(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{185:function(t,a,s){"use strict";s.r(a);var e=s(0),i=Object(e.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"git-进阶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-进阶"}},[t._v("#")]),t._v(" git 进阶")]),t._v(" "),s("h2",{attrs:{id:"head"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#head"}},[t._v("#")]),t._v(" HEAD")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("HEAD")]),t._v(" 是指向当前 "),s("code",[t._v("commit")]),t._v(" 的引用，它具有唯一性，每个仓库中只有一个 "),s("code",[t._v("HEAD")]),t._v("。在每次提交时它都会自动向前移动到最新的 "),s("code",[t._v("commit")]),t._v(" 。")]),t._v(" "),s("li",[t._v("使用 "),s("code",[t._v("checkout")]),t._v("、"),s("code",[t._v("reset")]),t._v(" 等指令手动指定改变当前 "),s("code",[t._v("commit")]),t._v(" 的时候，"),s("code",[t._v("HEAD")]),t._v(" 也会一起跟过去")]),t._v(" "),s("li",[s("code",[t._v("HEAD")]),t._v(" 除了可以指向 "),s("code",[t._v("commit")]),t._v("，还可以指向一个 "),s("code",[t._v("branch")]),t._v(",当它指向某个 "),s("code",[t._v("branch")]),t._v(" 的时候，会通过这个 "),s("code",[t._v("branch")]),t._v(" 来间接地指向某个 "),s("code",[t._v("commit")])]),t._v(" "),s("li",[t._v("当 "),s("code",[t._v("HEAD")]),t._v(" 在提交时自动向前移动的时候，它会像一个拖钩一样带着它所指向的 "),s("code",[t._v("branch")]),t._v(" 一起移动")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/git/header.gif",alt:"图片"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/git/header-cli.png",alt:"图片"}})]),t._v(" "),s("h2",{attrs:{id:"add"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add"}},[t._v("#")]),t._v(" add")]),t._v(" "),s("p",[s("code",[t._v("add")]),t._v(" 添加进暂存区的不是文件名，而是具体的文件改动内容")]),t._v(" "),s("div",{staticClass:"language-git line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("git add filename // 添加单个文件\ngit add . // 把工作目录下的所有改动全部放进暂存区\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h2",{attrs:{id:"git-log-查看历史改动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-log-查看历史改动"}},[t._v("#")]),t._v(" git log 查看历史改动")]),t._v(" "),s("p",[s("code",[t._v("git log")]),t._v(" 查看历史中的多个 "),s("code",[t._v("commit")])]),t._v(" "),s("h3",{attrs:{id:"log-p-查看详细改动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#log-p-查看详细改动"}},[t._v("#")]),t._v(" log -p 查看详细改动")]),t._v(" "),s("p",[s("code",[t._v("-p")]),t._v(" 是 "),s("code",[t._v("--patch")]),t._v(" 的缩写，通过 "),s("code",[t._v("-p")]),t._v(" 参数，你可以看到具体每个 "),s("code",[t._v("commit")]),t._v(" 的改动细节：")]),t._v(" "),s("div",{staticClass:"language-git line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("git log -p\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"/images/git/log-p.png",alt:"图片"}})]),t._v(" "),s("h3",{attrs:{id:"log-stat-查看大计改动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#log-stat-查看大计改动"}},[t._v("#")]),t._v(" log --stat 查看大计改动")]),t._v(" "),s("p",[t._v("如果你只想大致看一下改动内容，但并不想深入每一行的细节（例如你想回顾一下自己是在哪个 "),s("code",[t._v("commit")]),t._v(" 中修改了 "),s("code",[t._v("games.txt")]),t._v(" 文件），那么可以把选项换成 "),s("code",[t._v("--stat")])]),t._v(" "),s("div",{staticClass:"language-git line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("git log --stat\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"/images/git/log-stat.png",alt:"图片"}})]),t._v(" "),s("h2",{attrs:{id:"show-查看具体的-commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#show-查看具体的-commit"}},[t._v("#")]),t._v(" show 查看具体的 commit")]),t._v(" "),s("p",[t._v("如果你想看某个具体的 "),s("code",[t._v("commit")]),t._v(" 的改动内容，可以用 "),s("code",[t._v("show")]),t._v("：")]),t._v(" "),s("h3",{attrs:{id:"查看当前的-commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看当前的-commit"}},[t._v("#")]),t._v(" 查看当前的 commit")]),t._v(" "),s("div",{staticClass:"language-git line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("git show\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"/images/git/show-commit.png",alt:"图片"}})]),t._v(" "),s("h3",{attrs:{id:"查看任意一个-commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看任意一个-commit"}},[t._v("#")]),t._v(" 查看任意一个 commit")]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v("show")]),t._v(" 后面加上这个 "),s("code",[t._v("commit")]),t._v(" 的引用（"),s("code",[t._v("branch")]),t._v(" 或 "),s("code",[t._v("HEAD")]),t._v(" 标记）或它的 "),s("code",[t._v("SHA-1")]),t._v(" 码：")]),t._v(" "),s("div",{staticClass:"language-git line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("git show 5e68b0d8\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"/images/git/show-commit-any.png",alt:"图片"}})]),t._v(" "),s("h3",{attrs:{id:"看指定-commit-中的指定文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#看指定-commit-中的指定文件"}},[t._v("#")]),t._v(" 看指定 commit 中的指定文件")]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v("commit")]),t._v(" 的引用或 "),s("code",[t._v("SHA-1")]),t._v(" 后输入文件名：")]),t._v(" "),s("div",{staticClass:"language-git line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("git show 5e68b0d8 document\\ list.txt\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"diff-查看未提交的内容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#diff-查看未提交的内容"}},[t._v("#")]),t._v(" diff 查看未提交的内容")]),t._v(" "),s("h4",{attrs:{id:"查看暂存区和上一条commit的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看暂存区和上一条commit的区别"}},[t._v("#")]),t._v(" 查看暂存区和上一条commit的区别")]),t._v(" "),s("p",[t._v("使用 "),s("code",[t._v("git diff --staged")]),t._v(" 可以显示暂存区和上一条commit提交之间的不同。换句话说，这条指令可以让你看到「如果你立即输入 "),s("code",[t._v("git commit")]),t._v("，你将会提交什么」：")]),t._v(" "),s("div",{staticClass:"language-git line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("git diff --staged\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("code",[t._v("--staged")]),t._v(" 有一个等价的选项叫做 "),s("code",[t._v("--cached")]),t._v("。这里所谓的「等价」，是真真正正的等价，它们的意思完全相同。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/git/diff-staged.png",alt:"图片"}})]),t._v(" "),s("h4",{attrs:{id:"查看工作目录和暂存区的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看工作目录和暂存区的区别"}},[t._v("#")]),t._v(" 查看工作目录和暂存区的区别")]),t._v(" "),s("p",[t._v("使用 "),s("code",[t._v("git diff")]),t._v(" （不加选项参数）可以显示工作目录和暂存区之间的不同。换句话说，这条指令可以让你看到「如果你现在把所有文件都 "),s("code",[t._v("add")]),t._v("，你会向暂存区中增加哪些内容」：")]),t._v(" "),s("div",{staticClass:"language-git line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("git diff\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"/images/git/diff.png",alt:"图片"}})]),t._v(" "),s("h4",{attrs:{id:"比对工作目录和上一条提交"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#比对工作目录和上一条提交"}},[t._v("#")]),t._v(" 比对工作目录和上一条提交")]),t._v(" "),s("p",[t._v("使用 "),s("code",[t._v("git diff HEAD")]),t._v(" 可以显示工作目录和上一条提交之间的不同，它是上面这二者的内容相加。换句话说，这条指令可以让你看到「如果你现在把所有文件都 "),s("code",[t._v("add")]),t._v(" 然后 "),s("code",[t._v("git commit")]),t._v("，你将会提交什么」（不过需要注意，没有被 Git 记录在案的文件（即从来没有被 add 过 的文件，untracked files 并不会显示出来。为什么？因为对 Git 来说它并不存在啊）。")]),t._v(" "),s("div",{staticClass:"language-git line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("git diff HEAD\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"使用-git-rebase-命令执行顺序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-git-rebase-命令执行顺序"}},[t._v("#")]),t._v(" 使用 git rebase 命令执行顺序")]),t._v(" "),s("div",{staticClass:"language-git line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("// 首先切到分支，执行 rebase master \ngit checkout branch1\ngit rebase master\n// 然后\ngit checkout master\ngit merge branch1\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[s("img",{attrs:{src:"/images/git/rebase.gif",alt:"图片"}})])])}],!1,null,null,null);a.default=i.exports}}]);