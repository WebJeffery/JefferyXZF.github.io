<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6 å®è·µåº”ç”¨ | Jeffery Blog</title>
    <meta name="description" content="è®°å½•å’Œåˆ†äº«æŠ€æœ¯">
    <link rel="icon" href="/images/photo.jpg">
  <link rel="manifest" href="/images/photo.jpg">
  <link rel="apple-touch-icon" href="/images/photo.jpg">
  <meta http-quiv="pragma" cotent="no-cache">
  <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
  <meta http-quiv="expires" cotent="0">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.83e51879.css" as="style"><link rel="preload" href="/assets/js/app.f96d0dc8.js" as="script"><link rel="preload" href="/assets/js/54.28bdfc99.js" as="script"><link rel="prefetch" href="/assets/js/10.8506b9fc.js"><link rel="prefetch" href="/assets/js/11.2ac88bab.js"><link rel="prefetch" href="/assets/js/12.ae3ae057.js"><link rel="prefetch" href="/assets/js/13.4a7cb9d2.js"><link rel="prefetch" href="/assets/js/14.50a65c01.js"><link rel="prefetch" href="/assets/js/15.2c09bf95.js"><link rel="prefetch" href="/assets/js/16.fe1d8458.js"><link rel="prefetch" href="/assets/js/17.76935e2c.js"><link rel="prefetch" href="/assets/js/18.a3e9694d.js"><link rel="prefetch" href="/assets/js/19.d4d9a945.js"><link rel="prefetch" href="/assets/js/2.e1a2e5a6.js"><link rel="prefetch" href="/assets/js/20.c6f91d1d.js"><link rel="prefetch" href="/assets/js/21.9daaa140.js"><link rel="prefetch" href="/assets/js/22.706a5717.js"><link rel="prefetch" href="/assets/js/23.b55e5f59.js"><link rel="prefetch" href="/assets/js/24.e57fd181.js"><link rel="prefetch" href="/assets/js/25.de753c09.js"><link rel="prefetch" href="/assets/js/26.75e03a0a.js"><link rel="prefetch" href="/assets/js/27.0f39ac24.js"><link rel="prefetch" href="/assets/js/28.b4f1e26a.js"><link rel="prefetch" href="/assets/js/29.7e147ce9.js"><link rel="prefetch" href="/assets/js/3.fca730b7.js"><link rel="prefetch" href="/assets/js/30.08287792.js"><link rel="prefetch" href="/assets/js/31.4a26cbda.js"><link rel="prefetch" href="/assets/js/32.5b443424.js"><link rel="prefetch" href="/assets/js/33.4fd4b08b.js"><link rel="prefetch" href="/assets/js/34.a31c0f36.js"><link rel="prefetch" href="/assets/js/35.88cafe94.js"><link rel="prefetch" href="/assets/js/36.7812381a.js"><link rel="prefetch" href="/assets/js/37.5f9f2adb.js"><link rel="prefetch" href="/assets/js/38.118ba1f4.js"><link rel="prefetch" href="/assets/js/39.b67f7277.js"><link rel="prefetch" href="/assets/js/4.9e7532a1.js"><link rel="prefetch" href="/assets/js/40.e55debb3.js"><link rel="prefetch" href="/assets/js/41.d7903d06.js"><link rel="prefetch" href="/assets/js/42.77614d76.js"><link rel="prefetch" href="/assets/js/43.b81eee3a.js"><link rel="prefetch" href="/assets/js/44.4ade92d1.js"><link rel="prefetch" href="/assets/js/45.8bea4d57.js"><link rel="prefetch" href="/assets/js/46.3bdb04e6.js"><link rel="prefetch" href="/assets/js/47.c894c4b2.js"><link rel="prefetch" href="/assets/js/48.78e60e2b.js"><link rel="prefetch" href="/assets/js/49.9c5c8f7d.js"><link rel="prefetch" href="/assets/js/5.a3c90268.js"><link rel="prefetch" href="/assets/js/50.832279c4.js"><link rel="prefetch" href="/assets/js/51.cc16f222.js"><link rel="prefetch" href="/assets/js/52.b28aa4d0.js"><link rel="prefetch" href="/assets/js/53.ebabf090.js"><link rel="prefetch" href="/assets/js/55.a1b4df06.js"><link rel="prefetch" href="/assets/js/56.6fb0c31d.js"><link rel="prefetch" href="/assets/js/57.b9df5c2d.js"><link rel="prefetch" href="/assets/js/58.47940a92.js"><link rel="prefetch" href="/assets/js/6.4133d95a.js"><link rel="prefetch" href="/assets/js/7.ea728375.js"><link rel="prefetch" href="/assets/js/8.b6825a68.js"><link rel="prefetch" href="/assets/js/9.4d493f14.js">
    <link rel="stylesheet" href="/assets/css/0.styles.83e51879.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Jeffery Blog</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">ä¸»é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å‰ç«¯</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/vue-home.html" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/web/javascript/home.html" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/web/typescript/guide.html" class="nav-link">TypeScript</a></li><li class="dropdown-item"><!----> <a href="/web/html/" class="nav-link">HTML</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/vscode/shortcut-key.html" class="nav-link">VS Code</a></li><li class="dropdown-item"><!----> <a href="/tools/git/basics.html" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/tools/gitlab/webhook.html" class="nav-link">GitLab</a></li><li class="dropdown-item"><!----> <a href="/tools/develop/doc.html" class="nav-link">å·¥å…·åº“</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å‰ç«¯åŸºå»º</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/infrastructure/performance/01-optimize-index.html" class="nav-link">æ€§èƒ½ä¼˜åŒ–</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/JefferyXZF" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">ä¸»é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å‰ç«¯</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/vue-home.html" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/web/javascript/home.html" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/web/typescript/guide.html" class="nav-link">TypeScript</a></li><li class="dropdown-item"><!----> <a href="/web/html/" class="nav-link">HTML</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/vscode/shortcut-key.html" class="nav-link">VS Code</a></li><li class="dropdown-item"><!----> <a href="/tools/git/basics.html" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/tools/gitlab/webhook.html" class="nav-link">GitLab</a></li><li class="dropdown-item"><!----> <a href="/tools/develop/doc.html" class="nav-link">å·¥å…·åº“</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å‰ç«¯åŸºå»º</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/infrastructure/performance/01-optimize-index.html" class="nav-link">æ€§èƒ½ä¼˜åŒ–</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/JefferyXZF" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/web/javascript/home.html" class="sidebar-link">JavaScript ç›®å½•</a></li><li><a href="/web/javascript/01-base.html" class="sidebar-link">åŸºç¡€çŸ¥è¯†</a></li><li><a href="/web/javascript/02-data-type.html" class="sidebar-link">æ•°æ®ç±»å‹</a></li><li><a href="/web/javascript/03-base-type.html" class="sidebar-link">åŸºæœ¬ç±»å‹</a></li><li><a href="/web/javascript/es6.html" aria-current="page" class="active sidebar-link">ES6å®è·µåº”ç”¨</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#å£°æ˜" class="sidebar-link">å£°æ˜</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#è§£æ„èµ‹å€¼" class="sidebar-link">è§£æ„èµ‹å€¼</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#å­—ç¬¦ä¸²æ‰©å±•" class="sidebar-link">å­—ç¬¦ä¸²æ‰©å±•</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#æ•°å€¼æ‰©å±•" class="sidebar-link">æ•°å€¼æ‰©å±•</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#æ•°ç»„æ‰©å±•" class="sidebar-link">æ•°ç»„æ‰©å±•</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#å¯¹è±¡æ‰©å±•" class="sidebar-link">å¯¹è±¡æ‰©å±•</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#æ­£åˆ™è¡¨è¾¾å¼" class="sidebar-link">æ­£åˆ™è¡¨è¾¾å¼</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#å‡½æ•°æ‰©å±•" class="sidebar-link">å‡½æ•°æ‰©å±•</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#symbol" class="sidebar-link">Symbol</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#set" class="sidebar-link">Set</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#weakset" class="sidebar-link">WeakSet</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#map" class="sidebar-link">Map</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#weakmap" class="sidebar-link">WeakMap</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#proxy" class="sidebar-link">Proxy</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#reflect" class="sidebar-link">Reflect</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#class" class="sidebar-link">Class</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#module" class="sidebar-link">Module</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#iteratorå’Œfor-of" class="sidebar-link">Iteratorå’Œfor...of</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#promise" class="sidebar-link">Promise</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#generator" class="sidebar-link">Generator</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#å‚è€ƒæ–‡ç« " class="sidebar-link">å‚è€ƒæ–‡ç« </a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="es6-å®è·µåº”ç”¨"><a href="#es6-å®è·µåº”ç”¨" class="header-anchor">#</a> ES6 å®è·µåº”ç”¨</h1> <h2 id="å£°æ˜"><a href="#å£°æ˜" class="header-anchor">#</a> å£°æ˜</h2> <ul><li><code>let</code> å£°æ˜ä¸€ä¸ªå˜é‡</li> <li><code>const</code> å£°æ˜ä¸€ä¸ªå¸¸é‡</li> <li><code>let/const</code> å£°æ˜çš„å˜é‡/å¸¸é‡åªèƒ½ä½œç”¨äºä»£ç å—ï¼ˆå—çº§ä½œç”¨åŸŸæˆ–å‡½æ•°ä½œç”¨åŸŸï¼‰</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'hello, world'</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// ReferenceError: str is not defined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>let/const</code> ä¸å­˜åœ¨å˜é‡æå‡ï¼Œå˜é‡å¿…é¡»å…ˆå£°æ˜åä½¿ç”¨ï¼Œå¦åˆ™æŠ¥é”™ï¼Œå£°æ˜çš„å˜é‡å½¢æˆæš‚æ—¶æ€§æ­»åŒºï¼›</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'zhangsan'</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  name <span class="token operator">=</span> <span class="token string">'lisi'</span>
  <span class="token keyword">let</span> name <span class="token comment">// ReferenceError: Cannot access 'name' before initialization</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>let/const</code> ä¸å…è®¸åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸé‡å¤å£°æ˜</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">setName</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">''</span> <span class="token comment">// SyntaxError: Identifier 'name' has already been </span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>const</code> å£°æ˜æ—¶å¿…é¡»åˆå§‹åŒ–ï¼Œä¸”ä¸èƒ½è¢«ä¿®æ”¹ï¼›å¦‚æœåˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ä¸èƒ½ä¿®æ”¹è¯¥å¯¹è±¡çš„å†…å­˜åœ°å€:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'zhangsan'</span>
<span class="token punctuation">}</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'lisi'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// lisi</span>
person <span class="token operator">=</span> <span class="token string">''</span> <span class="token comment">// TypeError: Assignment to constant variable</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>let/const</code> åœ¨å…¨å±€ä½œç”¨åŸŸå£°æ˜å˜é‡ä¸ä¼šæŒ‚è½½åˆ°é¡¶å±‚å¯¹è±¡ï¼ˆæµè§ˆå™¨æ˜¯ <code>window</code>ï¼‰å±æ€§ä¸Šï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'zhangsan'</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'hello'</span>
<span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token string">'ä½ å¥½'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">// zhangsan</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="header-anchor">#</a> è§£æ„èµ‹å€¼</h2> <h3 id="è§£æ„ç±»å‹"><a href="#è§£æ„ç±»å‹" class="header-anchor">#</a> è§£æ„ç±»å‹</h3> <p><strong>å­—ç¬¦ä¸²è§£æ„</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">'22'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'ä½ å¥½'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token comment">// ä½  å¥½ 22</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>æ•°å€¼è§£æ„</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> toFixed<span class="token operator">:</span> fn <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token number">22</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">33.223</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 33.2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>å¸ƒå°”å€¼è§£æ„</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>toString<span class="token operator">:</span> ts<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token boolean">true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">ts</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>  <span class="token comment">// 'false'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>æ•°ç»„è§£æ„</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è§£æ„ä¸æˆåŠŸçš„å˜é‡å€¼ä¸º undefined</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span>  <span class="token comment">// 1, 2, undefined</span>
  
<span class="token comment">// å¯ä»¥è®¾ç½®é»˜è®¤å€¼</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">,</span> a<span class="token punctuation">)</span>  <span class="token comment">// 1, 2, null, 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>å¯¹è±¡è§£æ„</strong>ï¼šä¸æ•°ç»„æŒ‰ç…§ç´¢å¼•ä½ç½®è¿›è¡Œè§£æ„ä¸åŒï¼Œå¯¹è±¡è§£æ„æ˜¯æŒ‰ç…§å±æ€§åè¿›è¡Œè§£æ„èµ‹å€¼ï¼Œå¦‚æœåœ¨å½“å‰å¯¹è±¡å±æ€§åŒ¹é…ä¸æˆåŠŸåˆ™ä¼šå»å¯¹è±¡çš„åŸå‹å±æ€§ä¸ŠæŸ¥æ‰¾ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">12</span> <span class="token punctuation">}</span>
person<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">'ç”·'</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex <span class="token punctuation">}</span> <span class="token operator">=</span> person
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex<span class="token punctuation">)</span> <span class="token comment">// zhangsan 12 ç”·</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age<span class="token operator">:</span> age1 <span class="token operator">=</span> <span class="token number">12</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zhangsan'</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token comment">// zhangsan 12</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>å‡½æ•°å‚æ•°è§£æ„ï¼š</strong> è§„åˆ™æ ¹æ®ä¸Šé¢çš„æ•°ç»„å’Œå¯¹è±¡è§£æ„</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">// [3, 8]</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token comment">// [3, 0]</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>            <span class="token comment">// [0, 0]</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token comment">// [0, 0]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>å¦‚æœæ˜¯ä¸‹é¢è¿™ç§è§£æ„ä¼šæŠ¥é”™</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// TypeError: Cannot read property x of undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="è§£æ„åº”ç”¨"><a href="#è§£æ„åº”ç”¨" class="header-anchor">#</a> è§£æ„åº”ç”¨</h3> <ul><li><strong>äº¤æ¢å˜é‡çš„å€¼</strong></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>y<span class="token punctuation">,</span> x<span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>  <span class="token comment">// 2 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><strong>é€šè¿‡å‡½æ•°è¿”å›å¯¹è±¡å±æ€§</strong></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><strong>é€šè¿‡å®šä¹‰å‡½æ•°å‚æ•°æ¥å£°æ˜å˜é‡</strong></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">12</span>
<span class="token punctuation">}</span>
<span class="token function">init</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
  
<span class="token comment">// æ™®é€šç”¨æ³•</span>
<span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token operator">=</span> person
<span class="token punctuation">}</span>
  
<span class="token comment">// æ›´ç®€æ´ç”¨æ³•</span>
<span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>æŒ‡å®šå‡½æ•°å‚æ•°é»˜è®¤å€¼</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">initPerson</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name <span class="token operator">=</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">initPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 'zhangsan' 12</span>
<span class="token function">initPerson</span><span class="token punctuation">(</span><span class="token punctuation">{</span>age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">// 'zhangsan' 20</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>æå– <code>JSON</code> æ•°æ®</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> responseData <span class="token operator">=</span> <span class="token punctuation">{</span>
    code<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">'success'</span>
<span class="token punctuation">}</span>
  
<span class="token keyword">let</span> <span class="token punctuation">{</span> code<span class="token punctuation">,</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> responseData
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>éå† Map ç»“æ„</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'zhangsan'</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'12'</span><span class="token punctuation">)</span>
  
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// è§£æ„</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•å’Œå±æ€§</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> debounce <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="å­—ç¬¦ä¸²æ‰©å±•"><a href="#å­—ç¬¦ä¸²æ‰©å±•" class="header-anchor">#</a> å­—ç¬¦ä¸²æ‰©å±•</h2> <ul><li>ä½¿ç”¨ <code>Unicode</code> ç¼–ç æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ä»¥ä¸‹å†™æ³•éƒ½å¯ä»¥ç”¨æ¥è¡¨ç¤ºå­—ç¬¦ z</span>
<span class="token string">'\z'</span>      <span class="token comment">// è½¬ä¹‰</span>
<span class="token string">'\172'</span>    <span class="token comment">// åè¿›åˆ¶è¡¨ç¤ºæ³•</span>
<span class="token string">'\x7A'</span>    <span class="token comment">// åå…­è¿›åˆ¶è¡¨ç¤ºæ³•</span>
<span class="token string">'\u007A'</span>  <span class="token comment">// Unicode æ™®é€šè¡¨ç¤ºæ³•</span>
<span class="token string">'\u{7A}'</span>  <span class="token comment">// Unicode å¤§æ‹¬å·è¡¨ç¤ºæ³•</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p><a href="https://www.52unicode.com/" target="_blank" rel="noopener noreferrer">www.52unicode.com<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> è¿™ä¸ªç½‘ç«™å¯ä»¥æŸ¥è¯¢åˆ°å¸¸è§ç¬¦å·çš„ Unicode ç¼–ç ã€‚</p></blockquote> <ul><li>ä½¿ç”¨ <code>for...of</code> æ­£ç¡®éå†å­—ç¬¦ä¸²</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'ğŸ˜€ğŸ¤£ğŸ˜œğŸ˜ğŸ¤—ğŸ¤”'</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> emoji <span class="token keyword">of</span> str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>emoji<span class="token punctuation">)</span> <span class="token comment">// ğŸ˜€ğŸ¤£ğŸ˜œğŸ˜ğŸ¤—ğŸ¤”</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> l <span class="token operator">=</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// ä¸èƒ½æ­£ç¡®è¾“å‡ºè¡¨æƒ…</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œå¯ä»¥æ”¯æŒæ¢è¡Œï¼Œæ¤å…¥å˜é‡</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'zhangsan'</span>
<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, 
    welcome to my world.</span><span class="token template-punctuation string">`</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>æ ‡ç­¾æ¨¡æ¿ï¼šåœ¨å‡½æ•°ååé¢æ¥ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ç›¸å½“äºç»™å‡½æ•°ä¼ å…¥äº†å‚æ•°è¿›è¡Œè°ƒç”¨ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tips <span class="token operator">=</span> parse<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, are you </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> years old this year?</span><span class="token template-punctuation string">`</span></span>
<span class="token keyword">function</span> <span class="token function">parse</span><span class="token punctuation">(</span><span class="token parameter">stringArr<span class="token punctuation">,</span> <span class="token operator">...</span>variable</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringArr<span class="token punctuation">,</span> variable<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
  
<span class="token comment">// ç›¸å½“äºä¼ é€’å¦‚ä¸‹å‚æ•°è¿›è¡Œè°ƒç”¨ parse å‡½æ•°</span>
<span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;Hello &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;, are you &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot; years old this year?&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><code>String.fromCodePoint()</code> ç”¨äºå°† <code>Unicode</code> è½¬åŒ–ä¸ºå¯¹åº”å­—ç¬¦ï¼Œå¯ä»¥æ”¯æŒ 0xFFFF çš„ç ç‚¹ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span><span class="token number">0x1f600</span><span class="token punctuation">)</span>   <span class="token comment">// &quot;ï˜€&quot;</span>
String<span class="token punctuation">.</span><span class="token function">fromCodePoint</span><span class="token punctuation">(</span><span class="token number">0x1f600</span><span class="token punctuation">)</span>  <span class="token comment">// &quot;ğŸ˜€&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><code>String.raw()</code> è¿”å›æŠŠå­—ç¬¦ä¸²æ‰€æœ‰å˜é‡æ›¿æ¢ä¸”å¯¹æ–œæ è¿›è¡Œè½¬ä¹‰çš„ç»“æœï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>String<span class="token punctuation">.</span>raw<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hi\n</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">3</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span>  <span class="token comment">// &quot;Hi\n5!&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>codePointAt()</code> è¿”å›å­—ç¬¦çš„åè¿›åˆ¶ç ç‚¹ï¼Œå¯¹äº <code>Unicode</code> å¤§äº <code>0xFFFF</code> çš„å­—ç¬¦ï¼Œä¼šè¢«è®¤ä¸ºæ˜¯ 2 ä¸ªå­—ç¬¦ï¼Œåè¿›åˆ¶ç ç‚¹è½¬æˆåå…­è¿›åˆ¶å¯ä»¥ä½¿ç”¨ <code>toString(16)</code>ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> emoji <span class="token operator">=</span> <span class="token string">'ğŸ¤£'</span>
emoji<span class="token punctuation">.</span>length  <span class="token comment">// 2</span>
emoji<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>  <span class="token comment">// 'd83d'</span>
emoji<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>  <span class="token comment">// 'de00'</span>
  
String<span class="token punctuation">.</span><span class="token function">fromCodePoint</span><span class="token punctuation">(</span><span class="token number">0xd83d</span><span class="token punctuation">,</span> <span class="token number">0xde00</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'ğŸ¤£'</span>  <span class="token comment">// true</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><code>normalize()</code> æ–¹æ³•ä¼šæŒ‰ç…§æŒ‡å®šçš„ä¸€ç§ <code>Unicode</code> æ­£è§„å½¢å¼å°†å½“å‰å­—ç¬¦ä¸²æ­£è§„åŒ–ã€‚ï¼ˆå¦‚æœè¯¥å€¼ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™é¦–å…ˆå°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> str1 <span class="token operator">=</span> <span class="token string">'\u00F1'</span>
<span class="token keyword">let</span> str2 <span class="token operator">=</span> <span class="token string">'\u006E\u0303'</span>
  
str1  <span class="token comment">//  Ã±</span>
str2  <span class="token comment">//  Ã±</span>
str1 <span class="token operator">===</span> str2  <span class="token comment">// false</span>
str1<span class="token punctuation">.</span>length <span class="token operator">===</span> str2<span class="token punctuation">.</span>length  <span class="token comment">// false</span>
str1<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> str2<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><p>å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«å­ä¸²ï¼š</p> <ul><li><code>includes()</code>ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚</li> <li><code>startsWith()</code>ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚</li> <li><code>endsWith()</code>ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string">'Hello world!'</span>
  
s<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">)</span>        <span class="token comment">// true</span>
s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>
s<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'!'</span><span class="token punctuation">)</span>        <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string">'Hello world!'</span>
  
s<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>   <span class="token comment">// false</span>
s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
s<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>   <span class="token comment">// true</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°Â <code>n</code>Â æ—¶ï¼Œ<code>endsWith</code>Â çš„è¡Œä¸ºä¸å…¶ä»–ä¸¤ä¸ªæ–¹æ³•æœ‰æ‰€ä¸åŒã€‚å®ƒé’ˆå¯¹å‰Â <code>n</code>Â ä¸ªå­—ç¬¦ï¼Œè€Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•é’ˆå¯¹ä»ç¬¬Â <code>n</code>Â ä¸ªä½ç½®ç›´åˆ°å­—ç¬¦ä¸²ç»“æŸã€‚</p> <ul><li><code>repeat(n)</code> å°†å½“å‰å­—ç¬¦ä¸²é‡å¤ <code>n</code> æ¬¡åï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'x'</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>         <span class="token comment">// 'xx'</span>
<span class="token string">'x'</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">1.9</span><span class="token punctuation">)</span>       <span class="token comment">// 'x'</span>
<span class="token string">'x'</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span>       <span class="token comment">// ''</span>
<span class="token string">'x'</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">// ''</span>
<span class="token string">'x'</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token string">'2a'</span><span class="token punctuation">)</span>      <span class="token comment">// ''</span>
<span class="token string">'x'</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.6</span><span class="token punctuation">)</span>      <span class="token comment">// ''ï¼Œè§£é‡Šï¼š0 ~ 1 ä¹‹é—´çš„å°æ•°ç›¸å½“äº 0</span>
<span class="token string">'x'</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>        <span class="token comment">// RangeError</span>
<span class="token string">'x'</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span>  <span class="token comment">// RangeError</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦</li></ul> <p>ES2017 å¼•å…¥äº†å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦çš„åŠŸèƒ½ã€‚å¦‚æœæŸä¸ªå­—ç¬¦ä¸²ä¸å¤ŸæŒ‡å®šé•¿åº¦ï¼Œä¼šåœ¨å¤´éƒ¨æˆ–å°¾éƒ¨è¡¥å…¨ã€‚padStart()ç”¨äºå¤´éƒ¨è¡¥å…¨ï¼ŒpadEnd()ç”¨äºå°¾éƒ¨è¡¥å…¨ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'x'</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'ab'</span><span class="token punctuation">)</span> <span class="token comment">// 'ababx'</span>
<span class="token string">'x'</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'ab'</span><span class="token punctuation">)</span> <span class="token comment">// 'abax'</span>

<span class="token string">'x'</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'ab'</span><span class="token punctuation">)</span> <span class="token comment">// 'xabab'</span>
<span class="token string">'x'</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'ab'</span><span class="token punctuation">)</span> <span class="token comment">// 'xaba'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>padStart()</code> å’Œ <code>padEnd()</code> ä¸€å…±æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²è¡¥å…¨ç”Ÿæ•ˆçš„æœ€å¤§é•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ã€‚</p> <h2 id="æ•°å€¼æ‰©å±•"><a href="#æ•°å€¼æ‰©å±•" class="header-anchor">#</a> æ•°å€¼æ‰©å±•</h2> <ul><li>äºŒè¿›åˆ¶ï¼ˆ0bï¼‰å’Œå…«è¿›åˆ¶ï¼ˆ0oï¼‰è¡¨ç¤ºæ³•ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">100</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment">// äºŒè¿›åˆ¶çš„100ï¼š1100100</span>
<span class="token keyword">let</span> o <span class="token operator">=</span> num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>  <span class="token comment">// å…«è¿›åˆ¶çš„100ï¼š144</span>
<span class="token number">0b1100100</span> <span class="token operator">===</span> <span class="token number">100</span>        <span class="token comment">// true</span>
<span class="token number">0o144</span> <span class="token operator">===</span> <span class="token number">100</span>            <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><code>Number.isFinite()</code>Â åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯æœ‰é™çš„æ•°ï¼Œå…¥å‚å¦‚æœä¸æ˜¯æ•°å€¼ä¸€å¾‹è¿”å›Â <code>false</code>ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2.9</span><span class="token punctuation">)</span>      <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span>       <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>        <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>     <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span>  <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><code>Number.isNaN()</code>Â åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºÂ <code>NaN</code>ï¼Œå¦‚æœå…¥å‚ä¸æ˜¯Â <code>NaN</code>Â é‚£ç»“æœéƒ½æ˜¯Â <code>false</code>ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span>       <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token string">'NaN'</span><span class="token punctuation">)</span>  <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>æ•°å€¼è½¬åŒ–ï¼š<code>Number.parseInt()</code>Â å’ŒÂ <code>Number.parseFloat()</code>ï¼Œéä¸¥æ ¼è½¬åŒ–ï¼Œä»å·¦åˆ°å³è§£æå­—ç¬¦ä¸²ï¼Œé‡åˆ°éæ•°å­—å°±åœæ­¢è§£æï¼Œå¹¶ä¸”æŠŠè§£æçš„æ•°å­—è¿”å›ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'1010'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment">// 10</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'ff'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span>  <span class="token comment">// 255</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><code>Number.isInteger()</code>Â åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæ•´æ•°ï¼Œå…¥å‚ä¸ºéæ•°å€¼åˆ™ä¸€å®šè¿”å›Â <code>false</code>ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>   <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token number">25.0</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token string">'15'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token number">3.0000000000000002</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><code>Number.EPSILON</code>Â è¡¨ç¤ºä¸€ä¸ªå¯æ¥å—çš„æœ€å°è¯¯å·®èŒƒå›´ï¼Œé€šå¸¸ç”¨äºæµ®ç‚¹æ•°è¿ç®—ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span> <span class="token operator">===</span> <span class="token number">0.3</span>  <span class="token comment">// false</span>
Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span> <span class="token operator">-</span> <span class="token number">0.3</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> Number<span class="token punctuation">.</span><span class="token constant">EPSILON</span>  <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><code>Number.isSafeInteger()</code>Â ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦åœ¨æœ€å¤§å®‰å…¨æ•´æ•°ï¼ˆ<code>Number.MAX_SAFE_INTEGER</code>ï¼‰å’Œæœ€å°å®‰å…¨æ•´æ•°ï¼ˆ<code>Number.MIN_SAFE_INTEGER</code>ï¼‰ä¹‹é—´ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Number<span class="token punctuation">.</span><span class="token function">isSafeInteger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦åœ¨æœ€å¤§å®‰å…¨æ•´æ•°ï¼ˆNumber.MAX_SAFE_INTEGERï¼‰å’Œæœ€å°å®‰å…¨æ•´æ•°ï¼ˆNumber.MIN_SAFE_INTEGERï¼‰ä¹‹é—´ï¼š</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p><code>Math.trunc()</code>ï¼šè¿”å›æ•°å€¼æ•´æ•°éƒ¨åˆ†</p></li> <li><p><code>Math.sign()</code>ï¼šè¿”å›æ•°å€¼ç±»å‹(æ­£æ•° 1ã€è´Ÿæ•° -1ã€é›¶ 0)</p></li> <li><p><code>Math.cbrt()</code>ï¼šè¿”å›æ•°å€¼ç«‹æ–¹æ ¹</p></li> <li><p><code>Math.clz32()</code>ï¼šè¿”å›æ•°å€¼çš„ 32 ä½æ— ç¬¦å·æ•´æ•°å½¢å¼</p></li> <li><p><code>Math.imul()</code>ï¼šè¿”å›ä¸¤ä¸ªæ•°å€¼ç›¸ä¹˜</p></li> <li><p><code>Math.fround()</code>ï¼šè¿”å›æ•°å€¼çš„ 32 ä½å•ç²¾åº¦æµ®ç‚¹æ•°å½¢å¼</p></li> <li><p><code>Math.hypot()</code>ï¼šè¿”å›æ‰€æœ‰æ•°å€¼å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹</p></li> <li><p><code>Math.expm1()</code>ï¼šè¿”å› <code>e^n - 1</code></p></li> <li><p><code>Math.log1p()</code>ï¼šè¿”å› 1 + n çš„è‡ªç„¶å¯¹æ•°(<code>Math.log(1 + n)</code>)</p></li> <li><p><code>Math.log10()</code>ï¼šè¿”å›ä»¥ 10 ä¸ºåº•çš„ n çš„å¯¹æ•°</p></li> <li><p><code>Math.log2()</code>ï¼šè¿”å›ä»¥ 2 ä¸ºåº•çš„nçš„å¯¹æ•°</p></li> <li><p><code>Math.sinh()</code>ï¼šè¿”å› n çš„åŒæ›²æ­£å¼¦</p></li> <li><p><code>Math.cosh()</code>ï¼šè¿”å› n çš„åŒæ›²ä½™å¼¦</p></li> <li><p><code>Math.tanh()</code>ï¼šè¿”å› n çš„åŒæ›²æ­£åˆ‡</p></li> <li><p><code>Math.asinh()</code>ï¼šè¿”å› n çš„ååŒæ›²æ­£å¼¦</p></li> <li><p><code>Math.acosh()</code>ï¼šè¿”å› n çš„ååŒæ›²ä½™å¼¦</p></li> <li><p><code>Math.atanh()</code>ï¼šè¿”å› n çš„ååŒæ›²æ­£åˆ‡</p></li></ul> <h2 id="æ•°ç»„æ‰©å±•"><a href="#æ•°ç»„æ‰©å±•" class="header-anchor">#</a> æ•°ç»„æ‰©å±•</h2> <ul><li>æ•°ç»„æ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰å°†æ•°ç»„å±•å¼€æˆç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ï¼Œåªèƒ½å±•å¼€ä¸€å±‚æ•°ç»„ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// åº”ç”¨ä¸€ï¼šå‡½æ•°ä¼ å‚</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// 3</span>
  
<span class="token comment">// åº”ç”¨äºŒï¼šæ•°ç»„åˆå¹¶</span>
<span class="token keyword">let</span> merge <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>  <span class="token comment">// 1, 2, 3, 4, 5, 6</span>
  
<span class="token comment">// åº”ç”¨ä¸‰ï¼šæµ…å…‹éš†</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> clone <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">]</span>
a <span class="token operator">===</span> clone  <span class="token comment">// false</span>
  
<span class="token comment">// åº”ç”¨å››ï¼šæ•°ç»„è§£æ„</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> <span class="token operator">...</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
x  <span class="token comment">// 1</span>
y  <span class="token comment">// [2, 3]</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ul><li><code>Array.from()</code> å¯ä»¥å°†ç±»æ•°ç»„å¯¹è±¡ï¼ˆ <code>NodeList</code>ï¼Œ<code>arguments</code>ï¼‰å’Œå¯è¿­ä»£å¯¹è±¡è½¬æˆæ•°ç»„ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// åº”ç”¨ä¸€ï¼šå­—ç¬¦ä¸²è½¬æ•°ç»„</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>  <span class="token comment">// ['f', 'o', 'o']</span>
  
<span class="token comment">// åº”ç”¨äºŒï¼šæ•°ç»„åˆå¹¶å»é‡</span>
<span class="token keyword">let</span> merge <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>merge<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// ['1', '2', '3']</span>
  
<span class="token comment">// åº”ç”¨ä¸‰ï¼šarguments è½¬æ•°ç»„</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment">// [1, 2, 3]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>å¦‚æœ <code>Array.from()</code> å¸¦ç¬¬äºŒä¸ªå‚æ•° <code>mapFn</code>ï¼Œå°†å¯¹ç”Ÿæˆçš„æ–°æ•°ç»„æ‰§è¡Œä¸€æ¬¡ map æ“ä½œï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x <span class="token operator">*</span> x <span class="token punctuation">)</span>    <span class="token comment">// [1, 4, 9]</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>length<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>  <span class="token comment">// [1, 2, 3]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><code>Array.of()</code> å°†ä¸€ç»„å‚æ•°è½¬æˆæ•°ç»„ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment">// [1, 2, 3]</span>
  
<span class="token comment">// ç±»ä¼¼äº</span>
<span class="token keyword">function</span> <span class="token function">arrayOf</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>params</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">arrayOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment">// [1, 2, 3]</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><code>Array.copyWithin()</code> åœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œå°†åˆ¶å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæ¥ä½ç½®çš„æˆå‘˜ï¼‰ï¼Œæœ€åè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚æ¥æ”¶ 3 ä¸ªå‚æ•°ï¼Œå‚æ•°ä¸ºè´Ÿæ•°è¡¨ç¤ºå³è¾¹å¼€å§‹è®¡ç®—ï¼š
<ul><li><code>target</code>ï¼ˆå¿…é€‰ï¼‰ï¼šæ›¿æ¢ä½ç½®çš„ç´¢å¼•ï¼›</li> <li><code>start</code>ï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œé»˜è®¤ä¸º 0ï¼›</li> <li><code>end</code>ï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®ç»“æŸè¯»å–æ•°æ®ï¼ˆä¸åŒ…æ‹¬è¯¥ä½ç½®çš„æ•°æ®ï¼‰ï¼Œé»˜è®¤ä¸ºåŸæ•°ç»„é•¿åº¦ï¼›</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>         <span class="token comment">// [1, 2, 3, 4, 1]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>          <span class="token comment">// [1, 1, 2, 3, 4]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>    <span class="token comment">// [4, 2, 3, 4, 5]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">// [3, 4, 3, 4, 5]</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå‡ºç°çš„å­æˆå‘˜ï¼š<code>find()</code> å’Œ <code>findIndex()</code>ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// æ‰¾å‡ºç¬¬ä¸€ä¸ªå¶æ•°</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> val <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span>       <span class="token comment">// 6</span>
  
<span class="token comment">// æ‰¾å‡ºç¬¬ä¸€ä¸ªå¶æ•°çš„ç´¢å¼•ä½ç½®</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> val <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">// 1</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><code>fill()</code> ä½¿ç”¨ç»™å®šçš„å€¼æ¥å¡«å……æ•°ç»„ï¼Œæœ‰ 3 ä¸ªå‚æ•°ï¼š
<ul><li><code>value</code>ï¼šå¡«å……å€¼ï¼›</li> <li><code>start</code>ï¼ˆå¯é€‰ï¼‰ï¼Œå¼€å§‹ç´¢å¼•ï¼Œé»˜è®¤ä¸º 0ï¼›</li> <li><code>end</code>ï¼ˆå¯é€‰ï¼‰ï¼šç»“æŸç´¢å¼•ï¼Œé»˜è®¤ä¸ºæ•°ç»„é•¿åº¦ï¼Œä¸åŒ…æ‹¬è¯¥ç´¢å¼•ä½ç½®çš„å€¼ï¼›</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// åˆå§‹åŒ–ç©ºæ•°ç»„</span>
<span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">// [1, 1, 1]</span>
  
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment">// [1, 2, 'a', 'a']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>é€šè¿‡ <code>keys()</code>ï¼ˆé”®åï¼‰ã€<code>entries()</code>ï¼ˆé”®å€¼ï¼‰å’Œ <code>values()</code>ï¼ˆé”®å€¼å¯¹ï¼‰ è·å–æ•°ç»„è¿­ä»£å™¨å¯¹è±¡ï¼Œå¯ä»¥è¢« <code>for...of</code> è¿­ä»£</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token keyword">of</span> arr<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment">// 1, 2, 3</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> v <span class="token keyword">of</span> arr<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>  <span class="token comment">// 'a' 'b' 'c'</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> e <span class="token keyword">of</span> arr<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>  <span class="token comment">// [0, 'a'] [0, 'b'] [0, 'c']</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>æ•°ç»„å®ä¾‹çš„ include()</li></ul> <p><code>Array.prototype.includes</code> æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼ï¼Œä¸å­—ç¬¦ä¸²çš„includesæ–¹æ³•ç±»ä¼¼</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>     <span class="token comment">// true</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>     <span class="token comment">// false</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>è¯¥æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæœç´¢çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º0ã€‚å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¸ºè´Ÿæ•°ï¼Œåˆ™è¡¨ç¤ºå€’æ•°çš„ä½ç½®ï¼Œå¦‚æœè¿™æ—¶å®ƒå¤§äºæ•°ç»„é•¿åº¦ï¼ˆæ¯”å¦‚ç¬¬äºŒä¸ªå‚æ•°ä¸º-4ï¼Œä½†æ•°ç»„é•¿åº¦ä¸º3ï¼‰ï¼Œåˆ™ä¼šé‡ç½®ä¸ºä»0å¼€å§‹ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>æ•°ç»„å®ä¾‹çš„ <code>flat()</code></li></ul> <p><code>Array.prototype.flat()</code> ç”¨äºå°†åµŒå¥—çš„æ•°ç»„â€œæ‹‰å¹³â€ï¼Œå˜æˆä¸€ç»´çš„æ•°ç»„ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå¯¹åŸæ•°æ®æ²¡æœ‰å½±å“ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// [1, 2, 3, 4]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>flat()</code> é»˜è®¤åªä¼šâ€œæ‹‰å¹³â€ä¸€å±‚ï¼Œå¦‚æœæƒ³è¦â€œæ‹‰å¹³â€å¤šå±‚çš„åµŒå¥—æ•°ç»„ï¼Œå¯ä»¥å°†flat()æ–¹æ³•çš„å‚æ•°å†™æˆä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæƒ³è¦æ‹‰å¹³çš„å±‚æ•°ï¼Œé»˜è®¤ä¸º1ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// [1, 2, 3, [4, 5]]</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">// [1, 2, 3, 4, 5]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œflat()çš„å‚æ•°ä¸º2ï¼Œè¡¨ç¤ºè¦â€œæ‹‰å¹³â€ä¸¤å±‚çš„åµŒå¥—æ•°ç»„ã€‚</p> <p>å¦‚æœä¸ç®¡æœ‰å¤šå°‘å±‚åµŒå¥—ï¼Œéƒ½è¦è½¬æˆä¸€ç»´æ•°ç»„ï¼Œå¯ä»¥ç”¨Infinityå…³é”®å­—ä½œä¸ºå‚æ•°ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span>
<span class="token comment">// [1, 2, 3]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>æ•°ç»„å®ä¾‹ <code>flatMap()</code></li></ul> <p><code>flatMap()</code> æ–¹æ³•å¯¹åŸæ•°ç»„çš„æ¯ä¸ªæˆå‘˜æ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼ˆç›¸å½“äºæ‰§è¡Œ <code>Array.prototype.map()</code>ï¼‰ï¼Œç„¶åå¯¹è¿”å›å€¼ç»„æˆçš„æ•°ç»„æ‰§è¡Œ <code>flat()</code> æ–¹æ³•ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œä¸æ”¹å˜åŸæ•°ç»„ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ç›¸å½“äº [[2, 4], [3, 6], [4, 8]].flat()</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// [2, 4, 3, 6, 4, 8]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="å¯¹è±¡æ‰©å±•"><a href="#å¯¹è±¡æ‰©å±•" class="header-anchor">#</a> å¯¹è±¡æ‰©å±•</h2> <ul><li><code>Object.is()</code> ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œè¡¨ç°åŸºæœ¬å’Œ === ä¸€æ ·ï¼Œé™¤äº†ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">+</span><span class="token number">0</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">0</span>            <span class="token comment">//true</span>
<span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span>          <span class="token comment">// false</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span>    <span class="token comment">// false</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><code>Object.assign()</code>Â ç”¨äºå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡ï¼ˆ<code>source</code>ï¼‰çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œå¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼ˆ<code>target</code>ï¼‰ï¼Œå¦‚æœæœ‰åŒåå±æ€§ï¼Œåˆ™åé¢çš„ä¼šç›´æ¥æ›¿æ¢å‰é¢çš„ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> source1 <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> d<span class="token operator">:</span> <span class="token punctuation">{</span>e<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> f<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> source2 <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> d<span class="token operator">:</span> <span class="token punctuation">{</span>g<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source1<span class="token punctuation">,</span> source2<span class="token punctuation">)</span>
target  <span class="token comment">// { a: 3, b: 3, c: 4, d: {g: 3} }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><code>Object.assign()</code>Â å®è¡Œçš„æ˜¯æµ…æ‹·è´ï¼Œå¦‚æœæºå¯¹è±¡æŸä¸ªå±æ€§æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆæ‹·è´çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token punctuation">{</span>b<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> source <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token punctuation">{</span>b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source<span class="token punctuation">)</span>
target<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">3</span>
source<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b  <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><code>__proto__</code> å±æ€§æ˜¯ç”¨æ¥è¯»å–å’Œè®¾ç½®å½“å‰å¯¹è±¡çš„åŸå‹ï¼Œè€Œç”±äºå…¶ä¸‹åˆ’çº¿æ›´å¤šçš„æ˜¯è¡¨é¢å…¶æ˜¯ä¸€ä¸ªå†…éƒ¨å±æ€§ï¼Œæ‰€ä»¥å»ºè®®ä¸åœ¨æ­£å¼åœºåˆä½¿ç”¨å®ƒï¼Œè€Œæ˜¯ç”¨ä¸‹é¢çš„ <code>Object.setPrototypeOf()</code>ï¼ˆå†™æ“ä½œï¼‰ã€<code>Object.getPrototypeOf()</code>ï¼ˆè¯»æ“ä½œï¼‰ã€<code>Object.create()</code>ï¼ˆç”Ÿæˆæ“ä½œï¼‰ä»£æ›¿ã€‚</li> <li><code>Object.setPrototypeOf()</code> ç”¨äºè®¾ç½®å¯¹è±¡åŸå‹ï¼Œ<code>Object.getPrototypeOf()</code> ç”¨äºè¯»å–å¯¹è±¡åŸå‹ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'lisi'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>  <span class="token comment">// {name: 'lisi'}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><code>Object.keys()</code>, <code>Object.values()</code>, <code>Object.entries()</code> åˆ†åˆ«è¿”å›ä¸€ä¸ªé”®ã€å€¼å’Œé”®å€¼ç»„æˆçš„æ•°ç»„ï¼Œåªè¿”å›å¯éå†çš„å±æ€§å’Œå€¼</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> baz<span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// [&quot;foo&quot;, &quot;baz&quot;]</span>
Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// [&quot;bar&quot;, 42]</span>
Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// [ [&quot;foo&quot;, &quot;bar&quot;], [&quot;baz&quot;, 42] ]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>Object.fromEntries()</li></ul> <p><code>Object.fromEntries()</code> æ–¹æ³•æ˜¯ <code>Object.entries()</code> çš„é€†æ“ä½œï¼Œç”¨äºå°†ä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„è½¬ä¸ºå¯¹è±¡ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'baz'</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// { foo: &quot;bar&quot;, baz: 42 }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>è¯¥æ–¹æ³•çš„ä¸»è¦ç›®çš„ï¼Œæ˜¯å°†é”®å€¼å¯¹çš„æ•°æ®ç»“æ„è¿˜åŸä¸ºå¯¹è±¡ï¼Œå› æ­¤ç‰¹åˆ«é€‚åˆå°† Map ç»“æ„è½¬ä¸ºå¯¹è±¡ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ä¾‹ä¸€</span>
<span class="token keyword">const</span> entries <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'baz'</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>entries<span class="token punctuation">)</span>
<span class="token comment">// { foo: &quot;bar&quot;, baz: 42 }</span>

<span class="token comment">// ä¾‹äºŒ</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span>
<span class="token comment">// { foo: true, bar: false }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>è¯¥æ–¹æ³•çš„ä¸€ä¸ªç”¨å¤„æ˜¯é…åˆURLSearchParamså¯¹è±¡ï¼Œå°†æŸ¥è¯¢å­—ç¬¦ä¸²è½¬ä¸ºå¯¹è±¡ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span><span class="token string">'foo=bar&amp;baz=qux'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// { foo: &quot;bar&quot;, baz: &quot;qux&quot; }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="header-anchor">#</a> æ­£åˆ™è¡¨è¾¾å¼</h2> <ul><li><code>RegExp</code>Â æ„é€ å‡½æ•°ï¼Œå…è®¸é¦–å‚ä¸ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¿®é¥°ç¬¦ï¼Œå¦‚æœæœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™ä¿®é¥°ç¬¦ä»¥ç¬¬äºŒä¸ªä¸ºå‡†ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">xYz\d+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
reg<span class="token punctuation">.</span>flags  <span class="token comment">// 'i'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>æ­£åˆ™æ–¹æ³•è°ƒç”¨å˜æ›´ï¼šå­—ç¬¦ä¸²å¯¹è±¡çš„Â <code>match()</code>ã€<code>replace()</code>ã€<code>search()</code>ã€<code>split()</code>Â å†…éƒ¨è°ƒç”¨è½¬ä¸ºè°ƒç”¨Â <code>RegExp</code>Â å®ä¾‹å¯¹åº”çš„Â <code>RegExp.prototype[Symbol.æ–¹æ³•]</code>ï¼›</li> <li><code>u</code>Â ä¿®é¥°ç¬¦ï¼šå«ä¹‰ä¸ºÂ <code>Unicode</code>Â æ¨¡å¼ï¼Œç”¨æ¥æ­£ç¡®å¤„ç†å¤§äºÂ <code>\uFFFF</code>Â çš„Â <code>Unicode</code>Â å­—ç¬¦ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå¾…åŒ¹é…çš„å­—ç¬¦ä¸²ä¸­å¯èƒ½åŒ…å«æœ‰å¤§äºÂ <code>\uFFFF</code>Â çš„å­—ç¬¦ï¼Œå°±å¿…é¡»åŠ ä¸ŠÂ <code>u</code>Â ä¿®é¥°ç¬¦ï¼Œæ‰èƒ½æ­£ç¡®å¤„ç†ã€‚</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// åŠ ä¸Š u ä¿®é¥°ç¬¦æ‰èƒ½è®© . å­—ç¬¦æ­£ç¡®è¯†åˆ«å¤§äº \uFFFF çš„å­—ç¬¦</span>
<span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">.</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'ğŸ¤£'</span><span class="token punctuation">)</span>   <span class="token comment">// false</span>
<span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">.</span>$<span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'ğŸ¤£'</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>
  
<span class="token comment">// å¤§æ‹¬å· Unicode å­—ç¬¦è¡¨ç¤ºæ³•å¿…é¡»åŠ ä¸Š u ä¿®é¥°ç¬¦</span>
<span class="token operator">/</span>\u<span class="token punctuation">{</span><span class="token number">61</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>   <span class="token comment">// false</span>
<span class="token operator">/</span>\u<span class="token punctuation">{</span><span class="token number">61</span><span class="token punctuation">}</span><span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>
  
<span class="token comment">// æœ‰ u ä¿®é¥°ç¬¦ï¼Œé‡è¯æ‰èƒ½æ­£ç¡®åŒ¹é…å¤§äº \uFFFF çš„å­—ç¬¦ </span>
<span class="token operator">/</span>ğŸ¤£<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'ğŸ¤£ğŸ¤£'</span><span class="token punctuation">)</span>  <span class="token comment">// false</span>
<span class="token operator">/</span>ğŸ¤£<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'ğŸ¤£ğŸ¤£'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li><code>RegExp.prototype.unicode</code>Â å±æ€§è¡¨ç¤ºæ­£åˆ™æ˜¯å¦è®¾ç½®äº†Â <code>u</code>Â ä¿®é¥°ç¬¦ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ğŸ¤£</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span>unicode   <span class="token comment">// false</span>
<span class="token operator">/</span>ğŸ¤£<span class="token operator">/</span>u<span class="token punctuation">.</span>unicode  <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><code>y</code>Â ä¿®é¥°ç¬¦ï¼Œä¸Â <code>g</code>Â ä¿®é¥°ç¬¦ç±»ä¼¼ä¹Ÿæ˜¯å…¨å±€åŒ¹é…ï¼›ä¸åŒçš„æ˜¯Â <code>g</code>Â æ˜¯å‰©ä½™å­—ç¬¦ä¸­åŒ¹é…å³å¯ï¼Œè€ŒÂ <code>y</code>Â åˆ™æ˜¯å¿…é¡»åœ¨å‰©ä½™çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…æ‰è¡Œï¼Œæ‰€ä»¥Â <code>y</code>Â ä¿®é¥°ç¬¦ä¹Ÿå«é»è¿ä¿®é¥°ç¬¦ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string">'aaa_aa_a'</span>
<span class="token keyword">let</span> r1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">let</span> r2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">y</span></span>
 
r1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>  <span class="token comment">// [&quot;aaa&quot;]</span>
r2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>  <span class="token comment">// [&quot;aaa&quot;]</span>
 
r1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>  <span class="token comment">// [&quot;aa&quot;]</span>
r2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>  <span class="token comment">// null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><code>RegExp.prototype.sticky</code>Â å±æ€§è¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†Â <code>y</code>Â ä¿®é¥°ç¬¦ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">abc</span><span class="token regex-delimiter">/</span><span class="token regex-flags">y</span></span><span class="token punctuation">.</span>sticky  <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>RegExp.prototype.flags</code>Â å±æ€§ä¼šè¿”å›å½“å‰æ­£åˆ™çš„æ‰€æœ‰ä¿®é¥°ç¬¦ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">abcğŸ¤£</span><span class="token regex-delimiter">/</span><span class="token regex-flags">iuy</span></span><span class="token punctuation">.</span>flags  <span class="token comment">// 'iuy'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="å‡½æ•°æ‰©å±•"><a href="#å‡½æ•°æ‰©å±•" class="header-anchor">#</a> å‡½æ•°æ‰©å±•</h2> <ul><li>å‡½æ•°å‚æ•°é»˜è®¤å€¼</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">printInfo</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ä½¿ç”¨å‚æ•°é»˜è®¤å€¼çš„æ—¶å€™ï¼Œå‚æ•°ä¸èƒ½æœ‰åŒåçš„ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>      <span class="token comment">// ä¸æŠ¥é”™</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// æŠ¥é”™</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>å‡½æ•°ä½“å†…ä¸èƒ½ç”¨Â <code>let</code>Â å’ŒÂ <code>const</code>Â å£°æ˜åŒå‚æ•°åçš„å˜é‡ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// æŠ¥é”™</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å‡½æ•°çš„Â <code>length</code>Â å±æ€§ä¼šè¿”å›æ²¡æœ‰æŒ‡å®šé»˜è®¤å€¼çš„å‚æ•°ä¸ªæ•°ï¼Œä¸”å¦‚æœè®¾ç½®é»˜è®¤å€¼çš„å‚æ•°ä¸æ˜¯å°¾å‚æ•°ï¼Œåˆ™Â <code>length</code>Â ä¸å†è®¡å…¥åé¢çš„å‚æ•°ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length      <span class="token comment">// 2</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length  <span class="token comment">// 1</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length  <span class="token comment">// 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>å‰©ä½™ï¼ˆ<code>rest</code>ï¼‰ å‚æ•°ï¼ˆ...å˜é‡åï¼‰çš„å½¢å¼ï¼Œç”¨äºè·å–å‡½æ•°çš„å‰©ä½™å‚æ•°ï¼Œæ³¨æ„Â <code>rest</code>Â å‚æ•°å¿…é¡»æ”¾åœ¨æœ€åä¸€ä¸ªä½ç½®ï¼Œå¯ä»¥å¾ˆå¥½çš„ä»£æ›¿Â <code>arguments</code>Â å¯¹è±¡ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> <span class="token operator">...</span>y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment">// 1</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> val <span class="token keyword">of</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        coonsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>  <span class="token comment">// 2 3</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>ä¸¥æ ¼æ¨¡å¼ï¼šåªè¦å‡½æ•°å‚æ•°ä½¿ç”¨äº†é»˜è®¤å€¼ã€è§£æ„èµ‹å€¼æˆ–è€…æ‰©å±•è¿ç®—ç¬¦ï¼Œé‚£ä¹ˆå‡½æ•°ä½“å†…å°±ä¸èƒ½æ˜¾ç¤ºçš„è®¾å®šä¸ºä¸¥æ ¼æ¨¡å¼ï¼Œå› ä¸ºä¸¥æ ¼æ¨¡å¼çš„ä½œç”¨èŒƒå›´åŒ…å«äº†å‡½æ•°å‚æ•°ï¼Œè€Œå‡½æ•°æ‰§è¡Œçš„é¡ºåºæ˜¯å…ˆæ‰§è¡Œå‚æ•°ï¼Œç„¶åå†æ‰§è¡Œå‡½æ•°ä½“ï¼Œæ‰§è¡Œåˆ°å‡½æ•°ä½“é‡Œçš„ <code>use strict</code> çš„æ—¶å€™ï¼Œé‚£ä¹ˆæ­¤æ—¶å› ä¸ºå‡½æ•°å‚æ•°å·²ç»æ‰§è¡Œå®Œæˆäº†ï¼Œé‚£å‡½æ•°å‚æ•°è¿˜è¦ä¸è¦å—åˆ°ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶å‘¢ï¼Ÿè¿™å°±å‡ºç°çŸ›ç›¾äº†ã€‚è§„é¿é™åˆ¶çš„åŠæ³•æœ‰ä¸¤ä¸ªï¼šè®¾ç½®å…¨å±€çš„ä¸¥æ ¼æ¨¡å¼æˆ–è€…åœ¨å‡½æ•°ä½“å¤–åœ¨åŒ…ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°å¹¶ä¸”å£°æ˜ä¸¥æ ¼æ¨¡å¼ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è§£æ³•ä¸€</span>
<span class="token string">'use strict'</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">2</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      
<span class="token punctuation">}</span>
  
<span class="token comment">// è§£æ³•äºŒ</span>
<span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token string">'use strict'</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">2</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>ç®­å¤´å‡½æ•°è¯­æ³•æ¯”å‡½æ•°è¡¨è¾¾å¼æ›´ç®€æ´ï¼Œå¹¶ä¸”æ²¡æœ‰è‡ªå·±çš„ thisã€argumentsï¼Œä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°å’Œç”¨ä½œç”Ÿæˆå™¨ã€‚</li></ul> <p>å‡ ç§ç®­å¤´å‡½æ•°å†™æ³•ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">f1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>               <span class="token comment">// æ²¡æœ‰å‚æ•°</span>
<span class="token keyword">let</span> <span class="token function-variable function">f2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>              <span class="token comment">// 1ä¸ªå‚æ•°</span>
<span class="token keyword">let</span> <span class="token function-variable function">f3</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>                <span class="token comment">// 1ä¸ªå‚æ•°å¯ä»¥çœç•¥åœ†æ‹¬å·</span>
<span class="token keyword">let</span> <span class="token function-variable function">f4</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>           <span class="token comment">// 2ä¸ªå‚æ•°ä»¥ä¸Šå¿…é¡»åŠ ä¸Šåœ†æ‹¬å·</span>
<span class="token keyword">let</span> <span class="token function-variable function">f5</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">2</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>   <span class="token comment">// æ”¯æŒå‚æ•°é»˜è®¤å€¼</span>
<span class="token keyword">let</span> <span class="token function-variable function">f6</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> <span class="token operator">...</span>y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>        <span class="token comment">// æ”¯æŒ rest å‚æ•°</span>
<span class="token keyword">let</span> f7 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">// æ”¯æŒå‚æ•°è§£æ„</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ thisï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">++</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 1 ç§’å Person {age: 1}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>é€šè¿‡ <code>call/apply</code> è°ƒç”¨ç®­å¤´å‡½æ•°çš„æ—¶å€™å°†ä¸ä¼šç»‘å®šç¬¬ä¸€ä¸ªå‚æ•°çš„ä½œç”¨åŸŸï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> adder <span class="token operator">=</span> <span class="token punctuation">{</span>
    base<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token parameter">v</span> <span class="token operator">=&gt;</span> v <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>base
        <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token function-variable function">addThruCall</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token parameter">v</span> <span class="token operator">=&gt;</span> v <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>base
        <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span>
            base<span class="token operator">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span> 
        <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
adder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>          <span class="token comment">// è¾“å‡º 2</span>
adder<span class="token punctuation">.</span><span class="token function">addThruCall</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">// ä»ç„¶è¾“å‡º 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ul><li>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„Â <code>arguments</code>Â å¯¹è±¡ï¼Œä¸è¿‡å¯ä»¥ä½¿ç”¨Â <code>rest</code>Â å‚æ•°ä»£æ›¿ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">log</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>  <span class="token comment">// ReferenceError</span>
<span class="token punctuation">}</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
  
<span class="token comment">// å‰©ä½™å‚æ•°ä»£æ›¿å†™æ³•</span>
<span class="token keyword">let</span> <span class="token function-variable function">restLog</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>  <span class="token comment">// [2, 3]</span>
<span class="token punctuation">}</span>
<span class="token function">restLog</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œæ„é€ å™¨ï¼Œå’ŒÂ <code>new</code>Â ä¸€èµ·ç”¨ä¼šæŠ›å‡ºé”™è¯¯ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">Foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// TypeError: Foo is not a constructor</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>ç®­å¤´å‡½æ•°è¿”å›å¯¹è±¡å­—é¢é‡ï¼Œéœ€è¦ç”¨åœ†æ‹¬å·åŒ…èµ·æ¥ï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">func2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p>å°¾è°ƒç”¨å’Œå°¾é€’å½’</p> <p>é¦–å…ˆå¾—çŸ¥é“ä»€ä¹ˆæ˜¯å°¾è°ƒç”¨ï¼šå‡½æ•°çš„æœ€åä¸€æ­¥è°ƒç”¨å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼š</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// æ˜¯å°¾è°ƒç”¨</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">g</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
  
<span class="token comment">// ä»¥ä¸‹éƒ½ä¸æ˜¯å°¾è°ƒç”¨</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token function">g</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    <span class="token keyword">return</span> y
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token function">g</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">g</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">g</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    <span class="token comment">// å› ä¸ºæœ€åä¸€æ­¥æ˜¯ return: undefined</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>å°¾è°ƒç”¨æœ‰å•¥ç”¨ï¼Ÿæˆ‘ä»¬çŸ¥é“å‡½æ•°çš„ç›¸äº’è°ƒç”¨æ˜¯ä¼šç”Ÿæˆâ€œè°ƒç”¨å¸§â€çš„ï¼Œè€Œâ€œè°ƒç”¨å¸§â€é‡Œå­˜äº†å„ç§ä¿¡æ¯æ¯”å¦‚å‡½æ•°çš„å†…éƒ¨å˜é‡å’Œè°ƒç”¨å‡½æ•°çš„ä½ç½®ç­‰ï¼Œæ‰€æœ‰çš„â€œè°ƒç”¨å¸§â€ç»„æˆäº†ä¸€ä¸ªâ€œè°ƒç”¨æ ˆâ€ã€‚å¦‚æœåœ¨å‡½æ•°çš„æœ€åä¸€æ­¥æ“ä½œè°ƒç”¨äº†å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œå› ä¸ºå¤–å±‚å‡½æ•°é‡Œè°ƒç”¨ä½ç½®ã€å†…éƒ¨å˜é‡ç­‰ä¿¡æ¯éƒ½ä¸ä¼šå†ç”¨åˆ°äº†ï¼Œæ‰€æœ‰å°±æ— éœ€ä¿ç•™å¤–å±‚å‡½æ•°çš„â€œè°ƒç”¨å¸§â€äº†ï¼Œåªè¦ç›´æ¥ç”¨å†…å±‚å‡½æ•°çš„â€œè°ƒç”¨å¸§â€å–ä»£å¤–å±‚å‡½æ•°çš„â€œè°ƒç”¨å¸§â€å³å¯ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token keyword">return</span> <span class="token function">g</span><span class="token punctuation">(</span>m <span class="token operator">+</span> n<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  
<span class="token comment">// ç­‰åŒäº</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  
<span class="token comment">// ç­‰åŒäº</span>
<span class="token function">g</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>è¿™æ ·ä¸€æ¥å°±å¾ˆæ˜æ˜¾çš„å‡å°‘äº†è°ƒç”¨æ ˆä¸­çš„å¸§æ•°ï¼Œå†…å­˜å ç”¨å°±å°‘äº†ï¼Œæ‰€ä»¥è¿™å°±æ˜¯å°¾è°ƒç”¨çš„ä¼˜åŒ–ä½œç”¨ã€‚å°¾é€’å½’ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œé€’å½’å¦‚æœæ¬¡æ•°å¤šé‚£å°±éœ€è¦ä¿ç•™éå¸¸å¤šçš„â€œè°ƒç”¨å¸§â€ï¼Œæ‰€ä»¥ç»å¸¸ä¼šå‡ºç°æ ˆæº¢å‡ºé”™è¯¯ï¼Œè€Œä½¿ç”¨äº†å°¾é€’å½’ä¼˜åŒ–åå°±ä¸ä¼šå‘ç”Ÿæ ˆæº¢å‡ºçš„é”™è¯¯äº†ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// å¸¸è§„é€’å½’çš„æ–æ³¢é‚£å¥‘å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">Fibonacci</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> n <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">Fibonacci</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">Fibonacci</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">Fibonacci</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// è¶…æ—¶</span>
  
<span class="token comment">// å°¾é€’å½’ä¼˜åŒ–åçš„æ–æ³¢é‚£å¥‘å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">Fibonacci2</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> ac1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> ac2 <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span> n <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> ac2<span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">Fibonacci2</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> ac2<span class="token punctuation">,</span> ac1 <span class="token operator">+</span> ac2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>s
<span class="token function">Fibonacci2</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>  <span class="token comment">// 573147844013817200000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="symbol"><a href="#symbol" class="header-anchor">#</a> Symbol</h2> <ul><li><p><code>Symbol</code> æ˜¯ä¸€ä¸ªæ–°çš„åŸå§‹ç±»å‹ï¼Œç”¨æ¥è¡¨ç¤ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼ï¼Œå¯ä»¥é€šè¿‡ <code>Symbol()</code> å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ª <code>Symbol</code> ç±»å‹çš„å€¼ï¼Œä¸ºäº†åŠ ä»¥åŒºåˆ†ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå…¶æè¿°ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span> 
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
s1 <span class="token operator">===</span> s2  <span class="token comment">// false</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p><code>Symbol</code> ç±»å‹æ— æ³•é€šè¿‡æ•°å­¦è¿ç®—ç¬¦è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ <code>String()</code> æ˜¾ç¤ºè½¬æˆå­—ç¬¦ä¸²æˆ–è€…é€šè¿‡ <code>Boolean()</code> æ˜¾ç¤ºè½¬æˆå¸ƒå°”å€¼ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
<span class="token function">String</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>     <span class="token comment">// &quot;Symbol('foo')&quot;</span>
s<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// &quot;Symbol('foo')&quot;</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>    <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>å¼•å…¥ <code>Symbol</code> æœ€å¤§çš„åˆè¡·å…¶å®å°±æ˜¯ä¸ºäº†è®©å®ƒä½œä¸ºå¯¹è±¡çš„å±æ€§åè€Œä½¿ç”¨ï¼Œè¿™æ ·å°±å¯ä»¥æœ‰æ•ˆé¿å…å±æ€§åçš„å†²çªäº†ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>foo<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'foo1'</span><span class="token punctuation">,</span>
    foo<span class="token operator">:</span> <span class="token string">'foo2'</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">[</span>foo<span class="token punctuation">]</span>  <span class="token comment">// 'foo1'</span>
obj<span class="token punctuation">.</span>foo   <span class="token comment">// 'foo2'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p><code>Symbol</code> å±æ€§çš„ä¸å¯æšä¸¾æ€§ï¼Œä¸ä¼šè¢« <code>for...in</code>ã€<code>for...of</code>ã€<code>Object.keys()</code>ã€<code>Object.getOwnPropertyNames()</code>ã€<code>JSON.stringify()</code> ç­‰æšä¸¾ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token keyword">in</span> person<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment">// 'name'</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>  <span class="token comment">// ['name']</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>  <span class="token comment">// ['name']</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>  <span class="token comment">// '{&quot;name&quot;:&quot;zhangsan&quot;}'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>ä½†æ˜¯å¯ä»¥é€šè¿‡ <code>Object.getOwnPropertySymbols()</code> è·å–åˆ°å¯¹è±¡çš„æ‰€æœ‰ <code>Symbol</code> å±æ€§åï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// åŸºäºä¸Šé¢çš„ä»£ç </span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>  <span class="token comment">// [Symbol(age)]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <p><strong>é™æ€æ–¹æ³•</strong>ï¼š</p> <ul><li><p><code>Symbol.for()</code> æŒ‰ç…§æè¿°å»å…¨å±€æŸ¥æ‰¾ <code>Symbol</code>ï¼Œæ‰¾ä¸åˆ°åˆ™åœ¨å…¨å±€ç™»è®°ä¸€ä¸ªï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> s1 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
s1 <span class="token operator">===</span> s2 <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>Symbol.for()</code> çš„è¿™ä¸ªå…¨å±€ç™»è®°ç‰¹æ€§ï¼Œå¯ä»¥ç”¨åœ¨ä¸åŒçš„ <code>iframe</code> æˆ– <code>service worker</code> ä¸­å–åˆ°åŒä¸€ä¸ªå€¼ã€‚</p></li> <li><p><code>Symbol.keyFor()</code> æ ¹æ®å·²ç»åœ¨å…¨å±€ç™»è®°çš„ <code>Symbol</code> æŸ¥æ‰¾å…¶æè¿°ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> s <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>  <span class="token comment">// 'foo'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <p><strong>Symbol çš„å†…ç½®å€¼</strong>ï¼š</p> <ul><li><code>Symbol.hasInstance</code>ï¼šæŒ‡å‘ä¸€ä¸ªå†…éƒ¨æ–¹æ³•ï¼Œå½“å…¶ä»–å¯¹è±¡ä½¿ç”¨ <code>instanceof</code> è¿ç®—ç¬¦åˆ¤æ–­æ˜¯å¦ä¸ºæ­¤å¯¹è±¡çš„å®ä¾‹æ—¶ä¼šè°ƒç”¨æ­¤æ–¹æ³•ï¼›</li> <li><code>Symbol.isConcatSpreadable</code>ï¼šæŒ‡å‘ä¸€ä¸ªå¸ƒå°”ï¼Œå®šä¹‰å¯¹è±¡ç”¨äº <code>Array.prototype.concat()</code> æ—¶æ˜¯å¦å¯å±•å¼€ï¼›</li> <li><code>Symbol.species</code>ï¼šæŒ‡å‘ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡ä½¿ç”¨è‡ªèº«æ„é€ å‡½æ•°æ—¶ä¼šè°ƒç”¨æŒ‡å®šçš„æ„é€ å‡½æ•°ï¼›</li> <li><code>Symbol.match</code>ï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« <code>String.prototype.match()</code> è°ƒç”¨æ—¶ä¼šé‡æ–°å®šä¹‰match()çš„è¡Œä¸ºï¼›</li> <li><code>Symbol.replace</code>ï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« <code>String.prototype.replace()</code> è°ƒç”¨æ—¶ä¼šé‡æ–°å®šä¹‰ <code>replace()</code> çš„è¡Œä¸ºï¼›</li> <li><code>Symbol.search</code>ï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« <code>String.prototype.search()</code> è°ƒç”¨æ—¶ä¼šé‡æ–°å®šä¹‰ <code>search()</code> çš„è¡Œä¸ºï¼›s</li> <li><code>Symbol.split</code>ï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« <code>String.prototype.split()</code> è°ƒç”¨æ—¶ä¼šé‡æ–°å®šä¹‰ <code>split()</code> çš„è¡Œä¸ºï¼›</li> <li><code>Symbol.iterator</code>ï¼šæŒ‡å‘ä¸€ä¸ªé»˜è®¤éå†å™¨æ–¹æ³•ï¼Œå½“å®ä¾‹å¯¹è±¡æ‰§è¡Œ<code>for...of</code> æ—¶ä¼šè°ƒç”¨æŒ‡å®šçš„é»˜è®¤éå†å™¨ï¼›</li> <li><code>Symbol.toPrimitive</code>ï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢«è½¬ä¸ºåŸå§‹ç±»å‹çš„å€¼æ—¶ä¼šè¿”å›æ­¤å¯¹è±¡å¯¹åº”çš„åŸå§‹ç±»å‹å€¼ï¼›</li> <li><code>Symbol.toStringTag</code>ï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« <code>Object.prototype.toString()</code> è°ƒç”¨æ—¶å…¶è¿”å›å€¼ä¼šå‡ºç°åœ¨ <code>toString()</code> è¿”å›çš„å­—ç¬¦ä¸²ä¹‹ä¸­è¡¨ç¤ºå¯¹è±¡çš„ç±»å‹ï¼›</li> <li><code>Symbol.unscopables</code>ï¼šæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼ŒæŒ‡å®šä½¿ç”¨ <code>with</code> æ—¶å“ªäº›å±æ€§ä¼šè¢« <code>with</code> ç¯å¢ƒæ’é™¤ï¼›</li></ul> <h2 id="set"><a href="#set" class="header-anchor">#</a> Set</h2> <ul><li><p><code>Set</code> æ˜¯ä¸€ç§æ–°çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼æ•°ç»„ï¼Œä½†æ˜¯å®ƒæ²¡æœ‰é”®åªæœ‰å€¼ï¼Œä¸”å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°ç”Ÿæˆä¸€ä¸ªæ–°å®ä¾‹ï¼Œæ¥æ”¶ä¸€ä¸ªæ•°ç»„æˆ–è€…å¯è¿­ä»£æ•°æ®ç»“æ„ä½œä¸ºå‚æ•°ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// Set {1, 2, 3}</span>
<span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span>      <span class="token comment">// Set {'a', 'b', 'c'}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p><code>Set</code> åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯ä¸æ˜¯ç›¸ç­‰ç”¨çš„æ˜¯ <a href="https://tc39.es/ecma262/#sec-samevaluezero" target="_blank" rel="noopener noreferrer">sameValueZero<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ç®—æ³•ï¼Œç±»ä¼¼äº <code>===</code>ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œåœ¨ <code>Set</code> é‡Œ <code>NaN</code> ä¹‹é—´è¢«è®¤ä¸ºæ˜¯ç›¸ç­‰çš„ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">NaN</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">NaN</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
set<span class="token punctuation">.</span>size  <span class="token comment">// 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>ç›¸åŒå¯¹è±¡çš„ä¸åŒå®ä¾‹ä¹Ÿè¢« <code>Set</code> è®¤ä¸ºæ˜¯ä¸ç›¸ç­‰çš„ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
set<span class="token punctuation">.</span>size  <span class="token comment">// 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p><code>Set</code> æ˜¯æœ‰é¡ºåºçš„ï¼Œå°†æŒ‰ç…§æ’å…¥çš„é¡ºåºè¿›è¡Œè¿­ä»£ï¼Œå¯ä»¥ä½¿ç”¨ <code>for...of</code> è¿­ä»£ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token keyword">of</span> set<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <p><strong>Set å®ä¾‹å±æ€§å’Œæ–¹æ³•</strong>ï¼š</p> <ul><li><code>Set.prototype.constructor</code>ï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯ <code>Set</code> å‡½æ•°ï¼›</li> <li><code>Set.prototype.size</code>ï¼šè¿”å› <code>Set</code> å®ä¾‹çš„æˆå‘˜æ€»æ•°ï¼›</li> <li><code>Set.prototype.add(value)</code>ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å› <code>Set</code> ç»“æ„æœ¬èº«ï¼›</li> <li><code>Set.prototype.delete(value)</code>ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸï¼›</li> <li><code>Set.prototype.has(value)</code>ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ï¼›</li> <li><code>Set.prototype.clear()</code>ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼›</li> <li><code>Set.prototype.keys()</code>ï¼šè¿”å›é”®åçš„éå†å™¨ï¼›</li> <li><code>Set.prototype.values()</code>ï¼šè¿”å›é”®å€¼çš„éå†å™¨ï¼›</li> <li><code>Set.prototype.entries()</code>ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨ï¼›</li> <li><code>Set.prototype.forEach()</code>ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜ï¼›</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>     <span class="token comment">// Set {1, 3, 5}</span>
set<span class="token punctuation">.</span>size       <span class="token comment">// 3</span>
set<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">// trueï¼Œ1 å·²è¢«åˆ é™¤</span>
set<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>     <span class="token comment">// false</span>
set<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// SetIterator {3, 5}</span>
set<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
set<span class="token punctuation">.</span>size       <span class="token comment">// 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>Set åº”ç”¨åœºæ™¯</strong>ï¼š</p> <ul><li><p>æ•°ç»„å»é‡ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>         <span class="token comment">// [1, 3, 6]</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// [1, 3, 6]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>å­—ç¬¦ä¸²å»é‡ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token string">'abcbacd'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>  <span class="token comment">// 'abcd'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>æ±‚ä¸¤ä¸ªé›†åˆçš„äº¤é›†/å¹¶é›†/å·®é›†ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  
<span class="token comment">// å¹¶é›†</span>
<span class="token keyword">let</span> union <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// Set {1, 2, 3, 4}</span>
  
<span class="token comment">// äº¤é›†</span>
<span class="token keyword">let</span> intersect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> b<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// set {2, 3}</span>
  
<span class="token comment">// ï¼ˆa ç›¸å¯¹äº b çš„ï¼‰å·®é›†</span>
<span class="token keyword">let</span> difference <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>b<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// Set {1}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li><p>éå†ä¿®æ”¹é›†åˆæˆå‘˜çš„å€¼ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  
<span class="token comment">// æ–¹æ³•ä¸€</span>
<span class="token keyword">let</span> set1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>set<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> val <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">// Set {2, 3, 6}</span>
  
<span class="token comment">// æ–¹æ³•äºŒ</span>
<span class="token keyword">let</span> set2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> <span class="token parameter">val</span> <span class="token operator">=&gt;</span> val <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// Set {2, 4, 6}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <h2 id="weakset"><a href="#weakset" class="header-anchor">#</a> WeakSet</h2> <ul><li><p><code>WeakSet</code> å¯¹è±¡å…è®¸å°†å¼±ä¿æŒå¯¹è±¡å­˜å‚¨åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
ws<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>  <span class="token comment">// WeakSet {{}}</span>
ws<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>  <span class="token comment">// true</span>
ws<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>  <span class="token comment">// WeakSet {}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul> <p><strong>å’Œ Set çš„åŒºåˆ«</strong>ï¼š</p> <ul><li><code>WeakSet</code> åªèƒ½æ˜¯å¯¹è±¡çš„é›†åˆï¼Œè€Œä¸èƒ½æ˜¯ä»»ä½•ç±»å‹çš„ä»»æ„å€¼ï¼›</li> <li><code>WeakSet</code> æŒå¼±å¼•ç”¨ï¼šé›†åˆä¸­å¯¹è±¡çš„å¼•ç”¨ä¸ºå¼±å¼•ç”¨ã€‚å¦‚æœæ²¡æœ‰å…¶ä»–çš„å¯¹ <code>WeakSet</code> ä¸­å¯¹è±¡çš„å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™äº›å¯¹è±¡ä¼šè¢«å½“æˆåƒåœ¾å›æ”¶æ‰ã€‚è¿™ä¹Ÿæ„å‘³ç€ <code>WeakSet</code> ä¸­æ²¡æœ‰å­˜å‚¨å½“å‰å¯¹è±¡çš„åˆ—è¡¨ã€‚æ­£å› ä¸ºè¿™æ ·ï¼Œ<code>WeakSet</code> æ˜¯ä¸å¯æšä¸¾çš„ï¼Œä¹Ÿå°±æ²¡æœ‰ <code>size</code> å±æ€§ï¼Œæ²¡æœ‰ <code>clear</code> å’Œéå†çš„æ–¹æ³•ã€‚</li></ul> <p><strong>å®ä¾‹æ–¹æ³•</strong>ï¼š</p> <ul><li><code>WeakSet.prototype.add(value)</code>ï¼šæ·»åŠ ä¸€ä¸ªæ–°å…ƒç´  <code>value</code>ï¼›</li> <li><code>WeakSet.prototype.delete(value)</code>ï¼šä»è¯¥ <code>WeakSet</code> å¯¹è±¡ä¸­åˆ é™¤ <code>value</code> è¿™ä¸ªå…ƒç´ ï¼›</li> <li><code>WeakSet.prototype.has(value)</code>ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼,  è¡¨ç¤ºç»™å®šçš„å€¼ <code>value</code> æ˜¯å¦å­˜åœ¨äºè¿™ä¸ª <code>WeakSet</code> ä¸­ï¼›</li></ul> <h2 id="map"><a href="#map" class="header-anchor">#</a> Map</h2> <ul><li><p><code>Map</code> æ˜¯ä¸€ç§ç±»ä¼¼äº <code>Object</code> çš„è¿™ç§é”®å€¼å¯¹çš„æ•°æ®ç»“æ„ï¼ŒåŒºåˆ«æ˜¯å¯¹è±¡çš„é”®åªèƒ½æ˜¯å­—ç¬¦ä¸²æˆ–è€… <code>Symbol</code>ï¼Œè€Œ <code>Map</code> çš„é”®å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼ˆåŸå§‹ç±»å‹ã€å¯¹è±¡æˆ–è€…å‡½æ•°ï¼‰ï¼Œå¯ä»¥é€šè¿‡ <code>Map</code> æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œå…¥å‚æ˜¯å…·æœ‰ <code>Iterator</code> æ¥å£ä¸”æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªåŒå…ƒç´ æ•°ç»„ <code>[key, value]</code> çš„æ•°æ®ç»“æ„ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> map1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map1<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">)</span>
  
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'zhangsan'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> map2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p><code>Map</code> ä¸­çš„é”®å’Œ <code>Set</code> é‡Œçš„å€¼ä¸€æ ·ä¹Ÿå¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œéµå¾ª <a href="https://tc39.es/ecma262/#sec-samevaluezero" target="_blank" rel="noopener noreferrer">sameValueZero<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ç®—æ³•ï¼Œå¯¹äºåŒä¸€ä¸ªé”®åé¢æ’å…¥çš„ä¼šè¦†ç›–å‰é¢çš„ï¼Œ</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token string">'foo'</span><span class="token punctuation">}</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token string">'foo1'</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token string">'foo2'</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>  <span class="token comment">// 'foo2' </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>å¯¹äºé”®ååŒä¸º <code>NaN</code> ä»¥åŠç›¸åŒå¯¹è±¡è€Œä¸åŒå®ä¾‹çš„å¤„ç†åŒ <code>Set</code> çš„å€¼ä¸€æ ·ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">NaN</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">NaN</span>
<span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span>size    <span class="token comment">// 1</span>
map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">// 'b'</span>
  
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token punctuation">{</span>c<span class="token operator">:</span> <span class="token string">'c'</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token punctuation">{</span>c<span class="token operator">:</span> <span class="token string">'c'</span><span class="token punctuation">}</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span>size    <span class="token comment">// 3</span>
map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment">// 'c'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ul> <p><strong>å®ä¾‹å±æ€§å’Œæ–¹æ³•</strong>ï¼š</p> <ul><li><code>Map.prototype.size</code>ï¼šè¿”å› <code>Map</code> å¯¹è±¡çš„é”®å€¼å¯¹æ•°é‡ï¼›</li> <li><code>Map.prototype.set(key, value)</code>ï¼šè®¾ç½® <code>Map</code> å¯¹è±¡ä¸­é”®çš„å€¼ã€‚è¿”å›è¯¥ <code>Map</code> å¯¹è±¡ï¼›</li> <li><code>Map.prototype.get(key)</code>ï¼š è¿”å›é”®å¯¹åº”çš„å€¼ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› <code>undefined</code>ï¼›</li> <li><code>Map.prototype.has(key)</code>ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤º <code>Map</code> å®ä¾‹æ˜¯å¦åŒ…å«é”®å¯¹åº”çš„å€¼ï¼›</li> <li><code>Map.prototype.delete(key)</code>ï¼š å¦‚æœ <code>Map</code> å¯¹è±¡ä¸­å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™ç§»é™¤å®ƒå¹¶è¿”å› <code>true</code>ï¼›</li> <li><code>Map.prototype.clear()</code>ï¼š ç§»é™¤ <code>Map</code> å¯¹è±¡çš„æ‰€æœ‰é”®/å€¼å¯¹ï¼›</li> <li><code>Map.prototype.keys()</code>ï¼šè¿”å›ä¸€ä¸ªæ–°çš„ <code>Iterator</code> å¯¹è±¡ï¼Œ å®ƒæŒ‰æ’å…¥é¡ºåºåŒ…å«äº† <code>Map</code> å¯¹è±¡ä¸­æ¯ä¸ªå…ƒç´ çš„é”®ï¼›</li> <li><code>Map.prototype.values()</code>ï¼šè¿”å›ä¸€ä¸ªæ–°çš„ <code>Iterator</code> å¯¹è±¡ï¼Œå®ƒæŒ‰æ’å…¥é¡ºåºåŒ…å«äº† <code>Map</code> å¯¹è±¡ä¸­æ¯ä¸ªå…ƒç´ çš„å€¼ï¼›</li> <li><code>Map.prototype.entries()</code>ï¼šè¿”å›ä¸€ä¸ªæ–°çš„ <code>Iterator</code> å¯¹è±¡ï¼Œå®ƒæŒ‰æ’å…¥é¡ºåºåŒ…å«äº† <code>Map</code> å¯¹è±¡ä¸­æ¯ä¸ªå…ƒç´ çš„ <code>[key, value]</code> æ•°ç»„ï¼›</li> <li><code>Map.prototype.forEach(callbackFn[, thisArg])</code>ï¼šæŒ‰æ’å…¥é¡ºåºéå† <code>Map</code>ï¼›</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// {a: 1} 'a'</span>
<span class="token comment">// {a: 2} 'b'</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// {a: 1}</span>
<span class="token comment">// {a: 2}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="weakmap"><a href="#weakmap" class="header-anchor">#</a> WeakMap</h2> <ul><li><p>ç±»ä¼¼äº <code>Map</code> çš„ç»“æ„ï¼Œä½†æ˜¯é”®å¿…é¡»æ˜¯å¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œæ³¨æ„å¼±å¼•ç”¨çš„æ˜¯é”®åè€Œä¸æ˜¯é”®å€¼ï¼Œå› è€Œ <code>WeakMap</code> æ˜¯ä¸èƒ½è¢«è¿­ä»£çš„ï¼›</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> wm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'foo'</span><span class="token punctuation">}</span>
wm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span>  <span class="token comment">// Weak</span>
wm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>       <span class="token comment">// 'a'</span>
wm<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>       <span class="token comment">// true</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>è™½ç„¶ <code>wm</code> çš„é”®å¯¹ <code>foo</code> å¯¹è±¡æœ‰å¼•ç”¨ï¼Œä½†æ˜¯ä¸æ¯«ä¸ä¼šé˜»æ­¢ <code>foo</code> å¯¹è±¡è¢« <code>GC</code> å›æ”¶ã€‚å½“å¼•ç”¨å¯¹è±¡ <code>foo</code> è¢«åƒåœ¾å›æ”¶ä¹‹åï¼Œ<code>wm</code> çš„ <code>foo</code> é”®å€¼å¯¹ä¹Ÿä¼šè‡ªåŠ¨ç§»é™¤ï¼Œæ‰€ä»¥ä¸ç”¨æ‰‹åŠ¨åˆ é™¤å¼•ç”¨ã€‚</p></li></ul> <p><strong>å®ä¾‹æ–¹æ³•</strong>ï¼š</p> <ul><li><code>WeakMap.prototype.delete(key)</code>ï¼šç§»é™¤ <code>key</code> çš„å…³è”å¯¹è±¡ï¼›</li> <li><code>WeakMap.prototype.get(key)</code>ï¼šè¿”å›keyå…³è”å¯¹è±¡, æˆ–è€… undefined(æ²¡æœ‰keyå…³è”å¯¹è±¡æ—¶)ï¼›</li> <li><code>WeakMap.prototype.has(key)</code>ï¼šæ ¹æ®æ˜¯å¦æœ‰ <code>key</code> å…³è”å¯¹è±¡è¿”å›ä¸€ä¸ª <code>Boolean</code> å€¼ï¼›</li> <li><code>WeakMap.prototype.set(key, value)</code>ï¼šåœ¨ <code>WeakMap</code> ä¸­è®¾ç½®ä¸€ç»„ <code>key</code> å…³è”å¯¹è±¡ï¼Œè¿”å›è¿™ä¸ª <code>WeakMap</code> å¯¹è±¡ï¼›</li></ul> <h2 id="proxy"><a href="#proxy" class="header-anchor">#</a> Proxy</h2> <ul><li><p><code>Proxy</code> ç”¨æ¥å®šä¹‰åŸºæœ¬æ“ä½œçš„çš„è‡ªå®šä¹‰è¡Œä¸ºï¼Œå¯ä»¥ç†è§£ä¸ºå½“å¯¹ç›®æ ‡å¯¹è±¡ <code>target</code> è¿›è¡ŒæŸä¸ªæ“ä½œä¹‹å‰ä¼šå…ˆè¿›è¡Œæ‹¦æˆªï¼ˆæ‰§è¡Œ <code>handler</code> é‡Œå®šä¹‰çš„æ–¹æ³•ï¼‰ï¼Œå¿…é¡»è¦å¯¹ <code>Proxy</code> å®ä¾‹è¿›è¡Œæ“ä½œæ‰èƒ½è§¦å‘æ‹¦æˆªï¼Œå¯¹ç›®æ ‡å¯¹è±¡æ“ä½œæ˜¯ä¸ä¼šæ‹¦æˆªçš„ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å®šä¹‰ä¸€ä¸ªä»£ç†å®ä¾‹</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span>
  
<span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> propKey<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>target<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
instance<span class="token punctuation">.</span>name  <span class="token comment">// 'hello, zhangsan'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>å¦‚æœ <code>handle</code> æ²¡æœ‰è®¾ç½®ä»»ä½•æ‹¦æˆªï¼Œé‚£ä¹ˆå¯¹å®ä¾‹çš„æ“ä½œå°±ä¼šè½¬å‘åˆ°ç›®æ ‡å¯¹è±¡èº«ä¸Šï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
proxy<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'zhangsan'</span>
target<span class="token punctuation">.</span>name  <span class="token comment">// 'zhangsan'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>ç›®æ ‡å¯¹è±¡è¢« <code>Proxy</code> ä»£ç†çš„æ—¶å€™ï¼Œå†…éƒ¨çš„ <code>this</code> ä¼šæŒ‡å‘ä»£ç†çš„å®ä¾‹ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">m</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> proxy<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span>
target<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// false</span>
proxy<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ul> <p><strong>é™æ€æ–¹æ³•</strong>ï¼š</p> <ul><li><p><code>Proxy.revocable()</code> ç”¨ä»¥å®šä¹‰ä¸€ä¸ªå¯æ’¤é”€çš„ <code>Proxy</code>ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>proxy<span class="token punctuation">,</span> revoke<span class="token punctuation">}</span> <span class="token operator">=</span> Proxy<span class="token punctuation">.</span><span class="token function">revocable</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span>
  
proxy<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token number">123</span>
proxy<span class="token punctuation">.</span>foo  <span class="token comment">// 123</span>
<span class="token function">revoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
proxy<span class="token punctuation">.</span>foo  <span class="token comment">// TypeError</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ul> <p><strong>handle å¯¹è±¡çš„æ–¹æ³•</strong>ï¼š</p> <ul><li><code>get(target, propKey, receiver)</code>ï¼šæ‹¦æˆªå¯¹è±¡å±æ€§çš„è¯»å–ï¼Œæ¯”å¦‚proxy.fooå’Œproxy['foo']ã€‚</li> <li><code>set(target, propKey, value, receiver)</code>ï¼šæ‹¦æˆªå¯¹è±¡å±æ€§çš„è®¾ç½®ï¼Œæ¯”å¦‚ <code>proxy.foo = væˆ–proxy['foo'] = v</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</li> <li><code>has(target, propKey)</code>ï¼šæ‹¦æˆª <code>propKey in proxy</code> çš„æ“ä½œï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</li></ul> <p><code>deleteProperty(target, propKey)</code>ï¼šæ‹¦æˆª <code>delete proxy[propKey]</code> çš„æ“ä½œï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</p> <ul><li><code>ownKeys(target)</code>ï¼šæ‹¦æˆª <code>Object.getOwnPropertyNames(proxy)</code>ã€<code>Object.getOwnPropertySymbols(proxy)</code>ã€<code>Object.keys(proxy)</code>ã€<code>for...in</code> å¾ªç¯ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ã€‚è¯¥æ–¹æ³•è¿”å›ç›®æ ‡å¯¹è±¡æ‰€æœ‰è‡ªèº«çš„å±æ€§çš„å±æ€§åï¼Œè€Œ <code>Object.keys()</code> çš„è¿”å›ç»“æœä»…åŒ…æ‹¬ç›®æ ‡å¯¹è±¡è‡ªèº«çš„å¯éå†å±æ€§ã€‚</li> <li><code>getOwnPropertyDescriptor(target, propKey)</code>ï¼šæ‹¦æˆª<code>Object.getOwnPropertyDescriptor(proxy, propKey)</code>ï¼Œè¿”å›å±æ€§çš„æè¿°å¯¹è±¡ã€‚</li> <li><code>defineProperty(target, propKey, propDesc)</code>ï¼šæ‹¦æˆª <code>Object.defineProperty(proxy, propKey, propDesc)</code>ã€<code>Object.defineProperties(proxy, propDescs)</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</li> <li><code>preventExtensions(target)</code>ï¼šæ‹¦æˆª <code>Object.preventExtensions(proxy)</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</li> <li><code>getPrototypeOf(target)</code>ï¼šæ‹¦æˆª <code>Object.getPrototypeOf(proxy)</code>ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚</li> <li><code>isExtensible(target)</code>ï¼šæ‹¦æˆª <code>Object.isExtensible(proxy)</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</li> <li><code>setPrototypeOf(target, proto)</code>ï¼šæ‹¦æˆª <code>Object.setPrototypeOf(proxy, proto)</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å¦‚æœç›®æ ‡å¯¹è±¡æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆè¿˜æœ‰ä¸¤ç§é¢å¤–æ“ä½œå¯ä»¥æ‹¦æˆªã€‚</li> <li><code>apply(target, object, args)</code>ï¼šæ‹¦æˆª <code>Proxy</code> å®ä¾‹ä½œä¸ºå‡½æ•°è°ƒç”¨çš„æ“ä½œï¼Œæ¯”å¦‚<code>proxy(...args)</code>ã€<code>proxy.call(object, ...args)</code>ã€<code>proxy.apply(...)</code>ã€‚</li> <li><code>construct(target, args)</code>ï¼šæ‹¦æˆª <code>Proxy</code> å®ä¾‹ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨çš„æ“ä½œï¼Œæ¯”å¦‚ <code>new proxy(...args)</code>ã€‚</li></ul> <h2 id="reflect"><a href="#reflect" class="header-anchor">#</a> Reflect</h2> <ul><li><code>Reflect</code> æ˜¯ä¸€ä¸ªå†…ç½®çš„å¯¹è±¡ï¼Œå®ƒæä¾›æ‹¦æˆª <code>JavaScript</code> æ“ä½œçš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•ä¸ <code>proxy handlers</code> çš„æ–¹æ³•ç›¸åŒã€‚<code>Reflect</code> ä¸æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå› æ­¤å®ƒæ˜¯ä¸å¯æ„é€ çš„ã€‚</li> <li>è®¾è®¡çš„ç›®çš„ï¼š
<ul><li>å°† <code>Object</code> å±äºè¯­è¨€å†…éƒ¨çš„æ–¹æ³•æ”¾åˆ° <code>Reflect</code> ä¸Šï¼›</li> <li>ä¿®æ”¹æŸäº› <code>Object</code> æ–¹æ³•çš„è¿”å›ç»“æœï¼Œè®©å…¶å˜å¾—æ›´åˆç†ï¼›</li> <li>è®© <code>Object</code> æ“ä½œå˜æˆå‡½æ•°è¡Œä¸ºï¼›</li> <li><code>Proxy handles</code> ä¸ <code>Reflect</code> æ–¹æ³•ä¸€ä¸€å¯¹åº”ï¼Œå‰è€…ç”¨äºå®šä¹‰è‡ªå®šä¹‰è¡Œä¸ºï¼Œè€Œåè€…ç”¨äºæ¢å¤é»˜è®¤è¡Œä¸ºï¼›</li></ul></li></ul> <p><strong>é™æ€æ–¹æ³•</strong>ï¼š</p> <ul><li><code>Reflect.apply(target, thisArgument, argumentsList)</code> å¯¹ä¸€ä¸ªå‡½æ•°è¿›è¡Œè°ƒç”¨æ“ä½œï¼ŒåŒæ—¶å¯ä»¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„ä½œä¸ºè°ƒç”¨å‚æ•°ã€‚å’Œ <code>Function.prototype.apply()</code> åŠŸèƒ½ç±»ä¼¼ï¼›</li> <li><code>Reflect.construct(target, argumentsList[, newTarget])</code> å¯¹æ„é€ å‡½æ•°è¿›è¡Œ <code>new</code> æ“ä½œï¼Œç›¸å½“äºæ‰§è¡Œ <code>new target(...args)</code>ï¼›</li> <li><code>Reflect.defineProperty(target, propertyKey, attributes)</code> å’Œ <code>Object.defineProperty()</code> ç±»ä¼¼ã€‚å¦‚æœè®¾ç½®æˆåŠŸå°±ä¼šè¿”å› <code>true</code>ï¼›</li> <li><code>Reflect.deleteProperty(target, propertyKey)</code> ä½œä¸ºå‡½æ•°çš„ <code>delete</code> æ“ä½œç¬¦ï¼Œç›¸å½“äºæ‰§è¡Œ <code>delete target[name]</code>ï¼›</li> <li><code>Reflect.get(target, propertyKey[, receiver])</code> è·å–å¯¹è±¡èº«ä¸ŠæŸä¸ªå±æ€§çš„å€¼ï¼Œç±»ä¼¼äº <code>target[name]</code>ï¼›</li> <li><code>Reflect.getOwnPropertyDescriptor(target, propertyKey)</code> ç±»ä¼¼äº <code>Object.getOwnPropertyDescriptor()</code>ã€‚å¦‚æœå¯¹è±¡ä¸­å­˜åœ¨è¯¥å±æ€§ï¼Œåˆ™è¿”å›å¯¹åº”çš„å±æ€§æè¿°ç¬¦,  å¦åˆ™è¿”å› <code>undefined</code>ï¼›</li> <li><code>Reflect.getPrototypeOf(target)</code> ç±»ä¼¼äº <code>Object.getPrototypeOf()</code>ï¼›</li> <li><code>Reflect.has(target, propertyKey)</code> åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Œå’Œ <code>in</code> è¿ç®—ç¬¦ çš„åŠŸèƒ½å®Œå…¨ç›¸åŒï¼›</li> <li><code>Reflect.isExtensible(target)</code> ç±»ä¼¼äº <code>Object.isExtensible()</code>ï¼›</li> <li><code>Reflect.ownKeys(target)</code> è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰è‡ªèº«å±æ€§ï¼ˆä¸åŒ…å«ç»§æ‰¿å±æ€§ï¼‰çš„æ•°ç»„ã€‚(ç±»ä¼¼äº <code>Object.keys()</code>, ä½†ä¸ä¼šå— <code>enumerable</code> å½±å“)ï¼›</li> <li><code>Reflect.preventExtensions(target)</code> ç±»ä¼¼äº <code>Object.preventExtensions()</code>ã€‚è¿”å›ä¸€ä¸ª <code>Boolean</code>ï¼›</li> <li><code>Reflect.set(target, propertyKey, value[, receiver])</code> å°†å€¼åˆ†é…ç»™å±æ€§çš„å‡½æ•°ã€‚è¿”å›ä¸€ä¸ª <code>Boolean</code>ï¼Œå¦‚æœæ›´æ–°æˆåŠŸï¼Œåˆ™è¿”å› <code>true</code>ï¼›</li> <li><code>Reflect.setPrototypeOf(target, prototype)</code> è®¾ç½®å¯¹è±¡åŸå‹çš„å‡½æ•°. è¿”å›ä¸€ä¸ª <code>Boolean</code>ï¼Œ å¦‚æœæ›´æ–°æˆåŠŸï¼Œåˆ™è¿”å› <code>true</code>ï¼›</li></ul> <h2 id="class"><a href="#class" class="header-anchor">#</a> Class</h2> <ul><li><p>å¯ä»¥ç”¨ <code>class</code> å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªç±»ï¼Œç±»æ˜¯å¯¹ä¸€ç±»å…·æœ‰å…±åŒç‰¹å¾çš„äº‹ç‰©çš„æŠ½è±¡ï¼Œå°±æ¯”å¦‚å¯ä»¥æŠŠå°ç‹—å®šä¹‰ä¸ºä¸€ä¸ªç±»ï¼Œå°ç‹—æœ‰åå­—ä¼šå«ä¹Ÿä¼šè·³ï¼›ç±»æ˜¯ç‰¹æ®Šçš„å‡½æ•°ï¼Œå°±åƒå‡½æ•°å®šä¹‰çš„æ—¶å€™æœ‰å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼ä¸€æ ·ï¼Œç±»çš„å®šä¹‰ä¹Ÿæœ‰ç±»å£°æ˜å’Œç±»è¡¨è¾¾å¼ï¼Œä¸è¿‡ç±»å£°æ˜ä¸åŒäºå‡½æ•°å£°æ˜ï¼Œå®ƒæ˜¯æ— æ³•æå‡çš„ï¼›ç±»ä¹Ÿæœ‰ <code>name</code> å±æ€§</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ç±»å£°æ˜</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
    <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Dog<span class="token punctuation">.</span>name  <span class="token comment">// 'Dog'</span>
  
<span class="token comment">// ç±»è¡¨è¾¾å¼ï¼šå¯ä»¥å‘½åï¼ˆç±»çš„ name å±æ€§å–ç±»åï¼‰ï¼Œä¹Ÿå¯ä»¥ä¸å‘½åï¼ˆç±»çš„ name å±æ€§å–å˜é‡åï¼‰</span>
<span class="token keyword">let</span> Animal2 <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
    <span class="token comment">// xxx</span>
<span class="token punctuation">}</span>
Animal2<span class="token punctuation">.</span>name  <span class="token comment">// 'Animal2'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li> <li><p><code>JS</code> ä¸­çš„ç±»å»ºç«‹åœ¨åŸå‹çš„åŸºç¡€ä¸Šï¼ˆé€šè¿‡å‡½æ•°æ¥æ¨¡æ‹Ÿç±»ï¼Œå…¶å®ç±»å°±æ˜¯æ„é€ å‡½æ•°çš„è¯­æ³•ç³–ï¼‰ï¼Œå’Œ <code>ES5</code> ä¸­æ„é€ å‡½æ•°ç±»ä¼¼ï¼Œä½†æ˜¯ä¹Ÿæœ‰åŒºåˆ«ï¼Œæ¯”å¦‚ç±»çš„å†…éƒ¨æ–¹æ³•æ˜¯ä¸å¯è¢«è¿­ä»£çš„ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>  <span class="token comment">// []</span>
  
<span class="token comment">// ç±»ä¼¼äº</span>
<span class="token keyword">function</span> <span class="token function">Dog2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token class-name">Dog2</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token class-name">Dog2</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>  <span class="token comment">// ['constructor', 'bark', 'jump']</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li> <li><p>åŸºäºåŸå‹ç»™ç±»æ·»åŠ æ–°æ–¹æ³•ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">wag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// æ‘‡å°¾å·´</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>ç±»å£°æ˜å’Œç±»è¡¨è¾¾å¼çš„ä¸»ä½“éƒ½æ‰§è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ã€‚æ¯”å¦‚ï¼Œæ„é€ å‡½æ•°ï¼Œé™æ€æ–¹æ³•ï¼ŒåŸå‹æ–¹æ³•ï¼Œ<code>getter</code>å’Œ <code>setter</code> éƒ½åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ‰§è¡Œã€‚</p></li> <li><p>ç±»å†…éƒ¨çš„ <code>this</code> é»˜è®¤æŒ‡å‘ç±»å®ä¾‹ï¼Œæ‰€ä»¥å¦‚æœç›´æ¥è°ƒç”¨åŸå‹æ–¹æ³•æˆ–è€…é™æ€æ–¹æ³•ä¼šå¯¼è‡´ <code>this</code> æŒ‡å‘è¿è¡Œæ—¶çš„ç¯å¢ƒï¼Œè€Œç±»å†…éƒ¨æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥æ­¤æ—¶çš„ <code>this</code> ä¼šæ˜¯ <code>undefined</code>ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
    <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is bark.</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is jump.</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'å¤§é»„'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> bark <span class="token punctuation">}</span> <span class="token operator">=</span> dog
<span class="token keyword">let</span> <span class="token punctuation">{</span> jump <span class="token punctuation">}</span> <span class="token operator">=</span> Dog
<span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// TypeError: Cannot read property 'name' of undefined</span>
<span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// TypeError: Cannot read property 'name' of undefined</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li></ul> <p><strong>æ–¹æ³•å’Œå…³é”®å­—</strong>ï¼š</p> <ul><li><p><code>constructor</code> æ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡ <code>new</code> å…³é”®å­—ç”Ÿæˆå®ä¾‹çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ï¼›ä¸€ä¸ªç±»å¿…é¡»æœ‰<code>constructor</code> æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ˜¾ç¤ºå®šä¹‰ï¼Œåˆ™ä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ªç©ºçš„ï¼›<code>constructor</code> é»˜è®¤ä¼šè¿”å›å®ä¾‹å¯¹è±¡ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  
<span class="token comment">// ç­‰åŒäº</span>
<span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>é€šè¿‡ <code>get</code> å’Œ <code>set</code> å…³é”®å­—æ‹¦æˆªæŸä¸ªå±æ€§çš„è¯»å†™æ“ä½œï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token keyword">get</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">set</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> val
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>ç”¨ <code>static</code> å…³é”®å­—ç»™ç±»å®šä¹‰é™æ€æ–¹æ³•ï¼Œé™æ€æ–¹æ³•ä¸ä¼šå­˜åœ¨ç±»çš„åŸå‹ä¸Šï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡ç±»å®ä¾‹è°ƒç”¨ï¼Œåªèƒ½é€šè¿‡ç±»åæ¥è°ƒç”¨ï¼Œé™æ€æ–¹æ³•å’ŒåŸå‹æ–¹æ³•å¯ä»¥åŒåï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'åŸå‹æ–¹æ³•'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'é™æ€æ–¹æ³•'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span><span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>  <span class="token comment">// ['constructor', 'bark', 'jump']</span>
Dog<span class="token punctuation">.</span><span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 'é™æ€æ–¹æ³•'</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
dog<span class="token punctuation">.</span><span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 'åŸå‹æ–¹æ³•'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li> <li><p>å…¬æœ‰å­—æ®µå’Œç§æœ‰å­—æ®µï¼š</p> <p>é™æ€å…¬æœ‰å­—æ®µå’Œé™æ€æ–¹æ³•ä¸€æ ·åªèƒ½é€šè¿‡ç±»åè°ƒç”¨ï¼›ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•åªèƒ½åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ï¼Œå¤–éƒ¨è°ƒç”¨å°†æŠ¥é”™ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    age <span class="token operator">=</span> <span class="token number">12</span>                   <span class="token comment">// å…¬æœ‰å­—æ®µ</span>
    <span class="token keyword">static</span> sex <span class="token operator">=</span> <span class="token string">'male'</span>        <span class="token comment">// é™æ€å…¬æœ‰å­—æ®µ</span>
    #secret <span class="token operator">=</span> <span class="token string">'æˆ‘æ˜¯äººç±»çš„å¥½æœ‹å‹'</span>  <span class="token comment">// ç§æœ‰å­—æ®µ</span>
    <span class="token function">#getSecret</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token comment">// ç§æœ‰æ–¹æ³•</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#secret
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Dog<span class="token punctuation">.</span>sex  <span class="token comment">// 'male'</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
dog<span class="token punctuation">.</span><span class="token function">#getSecret</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// SyntaxError</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>å…¬å…±å’Œç§æœ‰å­—æ®µå£°æ˜æ˜¯ JavaScript æ ‡å‡†å§”å‘˜ä¼š TC39 æå‡ºçš„å®éªŒæ€§åŠŸèƒ½ï¼ˆç¬¬ 3 é˜¶æ®µï¼‰ã€‚æµè§ˆå™¨ä¸­çš„æ”¯æŒæ˜¯æœ‰é™çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ Babel ç­‰ç³»ç»Ÿæ„å»ºåä½¿ç”¨æ­¤åŠŸèƒ½ã€‚</p></blockquote></li> <li><p><code>new.target</code> å±æ€§å…è®¸ä½ æ£€æµ‹å‡½æ•°ã€æ„é€ æ–¹æ³•æˆ–è€…ç±»æ˜¯å¦æ˜¯é€šè¿‡ <code>new</code> è¿ç®—ç¬¦è¢«è°ƒç”¨çš„ã€‚åœ¨é€šè¿‡ <code>new</code> è¿ç®—ç¬¦è¢«åˆå§‹åŒ–çš„å‡½æ•°æˆ–æ„é€ æ–¹æ³•ä¸­ï¼Œ<code>new.target</code> è¿”å›ä¸€ä¸ªæŒ‡å‘æ„é€ æ–¹æ³•æˆ–å‡½æ•°çš„å¼•ç”¨ã€‚åœ¨æ™®é€šçš„å‡½æ•°è°ƒç”¨ä¸­ï¼Œ<code>new.target</code> çš„å€¼æ˜¯ <code>undefined</code>ï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ—¶å€™ä¼šè¿”å›å­ç±»ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">new</span><span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'new target is undefined'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'fn is called by new'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 'Dog'</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                 <span class="token comment">// 'new target is undefined'</span>
<span class="token keyword">new</span> <span class="token class-name">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>             <span class="token comment">// 'fn is called by new'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ul> <p><strong>ç±»çš„ç»§æ‰¿</strong>ï¼š</p> <ul><li><p>ç±»å¯ä»¥é€šè¿‡ <code>extends</code> å…³é”®å­—å®ç°ç»§æ‰¿ï¼Œå¦‚æœå­ç±»æ˜¾ç¤ºçš„å®šä¹‰äº† <code>constructor</code> åˆ™å¿…é¡»åœ¨å†…éƒ¨è°ƒç”¨ <code>super()</code> æ–¹æ³•ï¼Œå†…éƒ¨çš„ <code>this</code> æŒ‡å‘å½“å‰å­ç±»ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
    <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is running.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>   
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>  <span class="token comment">// å¿…é¡»è°ƒç”¨</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
    <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is barking.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'å¤§é»„'</span><span class="token punctuation">)</span>
dog<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 'å¤§é»„ is running.'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li> <li><p>é€šè¿‡ <code>super()</code> è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°æˆ–è€…é€šè¿‡ <code>super</code> è°ƒç”¨çˆ¶ç±»çš„åŸå‹æ–¹æ³•ï¼›å¦å¤–ä¹Ÿå¯ä»¥åœ¨å­ç±»çš„é™æ€æ–¹æ³•é‡Œé€šè¿‡ <code>super</code> è°ƒç”¨çˆ¶ç±»çš„é™æ€æ–¹æ³•ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// åŸºäºä¸Šé¢çš„ä»£ç æ”¹é€ </span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>  <span class="token comment">// è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
    <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// è°ƒç”¨çˆ¶ç±»åŸå‹æ–¹æ³•</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is barking.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
dog<span class="token punctuation">.</span><span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span>s
<span class="token comment">// 'å¤§é»„ is running.'</span>
<span class="token comment">// 'å¤§é»„ is barking.'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li> <li><p>å­ç±»çš„ <code>__proto__</code> å±æ€§ï¼Œè¡¨ç¤ºæ„é€ å‡½æ•°çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»ï¼›å­ç±» <code>prototype</code> å±æ€§çš„ <code>__proto__</code> å±æ€§ï¼Œè¡¨ç¤ºæ–¹æ³•çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»çš„prototypeå±æ€§ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  
Dog<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Animal  <span class="token comment">// true</span>
<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype  <span class="token comment">// true</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>å­ç±»åŸå‹çš„åŸå‹æŒ‡å‘çˆ¶ç±»çš„åŸå‹ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// åŸºäºä¸Šé¢çš„ä»£ç </span>
<span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
dog<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__  <span class="token operator">===</span> animal<span class="token punctuation">.</span>__proto__  <span class="token comment">// true</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>ä½¿ç”¨ <code>extends</code> è¿˜å¯ä»¥å®ç°ç»§æ‰¿åŸç”Ÿçš„æ„é€ å‡½æ•°ï¼Œå¦‚ä¸‹è¿™äº›æ„é€ å‡½æ•°éƒ½å¯ä»¥è¢«ç»§æ‰¿ï¼š</p> <ul><li><code>String()</code></li> <li><code>Number()</code></li> <li><code>Boolean()</code></li> <li><code>Array()</code></li> <li><code>Object()</code></li> <li><code>Function()</code></li> <li><code>Date()</code></li> <li><code>RegExp()</code></li> <li><code>Error()</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MyString</span> <span class="token keyword">extends</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
    <span class="token function">welcome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> ms <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyString</span><span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">)</span>
ms<span class="token punctuation">.</span><span class="token function">welcome</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">// 'hello zhangsan'</span>
ms<span class="token punctuation">.</span>length         <span class="token comment">// 2</span>
ms<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'å…°'</span><span class="token punctuation">)</span>  <span class="token comment">// 1</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ul> <h2 id="module"><a href="#module" class="header-anchor">#</a> Module</h2> <ul><li><p>æµè§ˆå™¨ä¼ ç»ŸåŠ è½½æ¨¡å—æ–¹å¼ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// åŒæ­¥åŠ è½½</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;test.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  
<span class="token comment">// deferå¼‚æ­¥åŠ è½½ï¼šé¡ºåºæ‰§è¡Œï¼Œæ–‡æ¡£è§£æå®Œæˆåæ‰§è¡Œï¼›</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;test.js&quot;</span> defer<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  
<span class="token comment">// asyncå¼‚æ­¥åŠ è½½ï¼šä¹±åºåŠ è½½ï¼Œä¸‹è½½å®Œå°±æ‰§è¡Œã€‚</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;test.js&quot;</span> async<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>æµè§ˆå™¨ç°åœ¨å¯ä»¥æŒ‰ç…§æ¨¡å—ï¼ˆåŠ ä¸Š <code>type=&quot;module&quot;</code>ï¼‰æ¥åŠ è½½è„šæœ¬ï¼Œé»˜è®¤å°†æŒ‰ç…§ <code>defer</code> çš„æ–¹å¼å¼‚æ­¥åŠ è½½ï¼›<code>ES6</code> çš„æ¨¡å—åŠ è½½ä¾èµ–äº <code>import</code> å’Œ <code>export</code> è¿™ 2 ä¸ªå‘½ä»¤ï¼›æ¨¡å—å†…éƒ¨è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// æ¨¡å—åŠ è½½</span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;module&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;test.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p><code>export</code> ç”¨äºè¾“å‡ºæ¨¡å—çš„å¯¹å¤–æ¥å£ï¼Œä¸€ä¸ªæ¨¡å—å†…åªèƒ½å…è®¸ä¸€ä¸ª <code>export default</code> å­˜åœ¨ï¼Œä»¥ä¸‹æ˜¯å‡ ç§è¾“å‡ºæ¨¡å—æ¥å£çš„å†™æ³•ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// person.js</span>
<span class="token comment">// å†™æ³•ä¸€ï¼šå•ç‹¬å¯¼å‡º</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'zhangsan'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">12</span>
  
<span class="token comment">// å†™æ³•äºŒï¼šæŒ‰éœ€å¯¼å‡º</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">12</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span>
  
<span class="token comment">// å†™æ³•ä¸‰ï¼šé‡å‘½ååå¯¼å‡º</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">12</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> name <span class="token keyword">as</span> name1<span class="token punctuation">,</span> age <span class="token keyword">as</span> age1 <span class="token punctuation">}</span>
  
<span class="token comment">// å†™æ³•å››ï¼šé»˜è®¤å¯¼å‡º</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'zhangsan'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> name

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li> <li><p><code>import</code> ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—çš„æ¥å£ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// æŒ‰éœ€å¯¼å…¥</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token string">'./person.js'</span>
  
<span class="token comment">// å¯¼å…¥åé‡å‘½å</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> name1 <span class="token keyword">as</span> name<span class="token punctuation">,</span> age1 <span class="token keyword">as</span> age <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./person.js'</span>
  
<span class="token comment">// é»˜è®¤å¯¼å…¥</span>
<span class="token keyword">import</span> person <span class="token keyword">from</span> <span class="token string">'./person.js'</span>
  
<span class="token comment">// æ•´ä½“å¯¼å…¥</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> person <span class="token keyword">from</span> <span class="token string">'./person.js'</span>
  
<span class="token comment">// æ··åˆå¯¼å…¥</span>
<span class="token keyword">import</span> _<span class="token punctuation">,</span> <span class="token punctuation">{</span> each <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lodash'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><code>import</code> å¯¼å…¥çš„ç»†èŠ‚ï¼š</p> <ul><li>å¯¼å…¥çš„å˜é‡åå¿…é¡»ä¸å¯¼å‡ºæ¨¡å—çš„åå­—ä¸€è‡´ï¼Œå¯ä»¥ä½¿ç”¨ <code>as</code> è¿›è¡Œé‡å‘½åï¼›</li> <li>å¯¼å…¥çš„å˜é‡éƒ½æ˜¯åªè¯»çš„ï¼Œä¸èƒ½æ”¹å†™ï¼›</li> <li><code>import</code> å‘½ä»¤å…·æœ‰æå‡æ•ˆæœï¼Œä¼šæå‡åˆ°æ•´ä¸ªæ¨¡å—çš„å¤´éƒ¨ï¼Œé¦–å…ˆæ‰§è¡Œï¼›</li> <li><code>import</code> æ˜¯ç¼–è¯‘æ—¶å¯¼å…¥ï¼Œæ‰€ä»¥ä¸èƒ½å°†å…¶å†™åˆ°ä»£ç å—ï¼ˆæ¯”å¦‚ <code>if</code> åˆ¤æ–­å—é‡Œï¼‰æˆ–è€…å‡½æ•°å†…éƒ¨ï¼›</li> <li><code>import</code> ä¼šæ‰§è¡Œæ‰€åŠ è½½çš„æ¨¡å—çš„ä»£ç ï¼Œå¦‚æœé‡å¤å¯¼å…¥åŒä¸€ä¸ªæ¨¡å—åˆ™åªä¼šæ‰§è¡Œä¸€æ¬¡æ¨¡å—ï¼›</li></ul></li> <li><p><code>import</code> å’Œ <code>export</code> çš„å¤åˆå†™æ³•ï¼š<code>export</code> å’Œ <code>import</code> è¯­å¥å¯ä»¥ç»“åˆåœ¨ä¸€èµ·å†™æˆä¸€è¡Œï¼Œç›¸å½“äºæ˜¯åœ¨å½“å‰æ¨¡å—ç›´æ¥è½¬å‘å¤–éƒ¨æ¨¡å—çš„æ¥å£ï¼Œå¤åˆå†™æ³•ä¹Ÿæ”¯æŒç”¨ <code>as</code> é‡å‘½åã€‚ä»¥ä¸‹ä¾‹å­ä¸­éœ€è¦åœ¨ <code>hub.js</code> æ¨¡å—ä¸­è½¬å‘ <code>person.js</code> çš„æ¥å£ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// person.js</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">12</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span>
<span class="token comment">// æŒ‰éœ€è½¬å‘æ¥å£ï¼ˆä¸­è½¬æ¨¡å—ï¼šhub.jsï¼‰</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./person.js'</span>
<span class="token comment">// ç›¸å½“äº</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./person.js'</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span>
  
<span class="token comment">// person.js</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">12</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span>
<span class="token comment">// è½¬å‘é»˜è®¤æ¥å£ï¼ˆä¸­è½¬æ¨¡å—ï¼šhub.jsï¼‰</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./person.js'</span>
<span class="token comment">// ç›¸å½“äº</span>
<span class="token keyword">import</span> person <span class="token keyword">from</span> <span class="token string">'./person.js'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> person

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li> <li><p><code>ES6</code> æ¨¡å—å’Œ <code>CommonJS</code> æ¨¡å—çš„å·®å¼‚ï¼š</p> <ul><li><code>CommonJS</code> æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ˆä¸€æ—¦è¾“å‡ºä¸€ä¸ªå€¼ï¼Œæ¨¡å—å†…éƒ¨çš„å˜åŒ–å°±å½±å“ä¸åˆ°è¿™ä¸ªå€¼ï¼‰ï¼Œ<code>ES6</code> æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ï¼ˆæ˜¯åŠ¨æ€å¼•ç”¨ä¸”ä¸ä¼šç¼“å­˜å€¼ï¼Œæ¨¡å—é‡Œçš„å˜é‡ç»‘å®šå…¶æ‰€åœ¨çš„æ¨¡å—ï¼Œç­‰åˆ°è„šæœ¬çœŸæ­£æ‰§è¡Œæ—¶ï¼Œå†æ ¹æ®è¿™ä¸ªåªè¯»å¼•ç”¨åˆ°è¢«åŠ è½½çš„é‚£ä¸ªæ¨¡å—é‡Œå»å–å€¼ï¼‰ï¼›</li> <li><code>CommonJS</code> æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼Œ<code>ES6</code> æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ï¼›</li> <li><code>CommonJS</code> æ¨¡å—çš„ <code>require()</code> æ˜¯åŒæ­¥åŠ è½½æ¨¡å—ï¼Œ<code>ES6</code> æ¨¡å—çš„ <code>import</code> å‘½ä»¤æ˜¯å¼‚æ­¥åŠ è½½ï¼Œæœ‰ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ä¾èµ–çš„è§£æé˜¶æ®µï¼›</li></ul></li></ul> <h2 id="iteratorå’Œfor-of"><a href="#iteratorå’Œfor-of" class="header-anchor">#</a> Iteratorå’Œfor...of</h2> <ul><li><p><code>Iterator</code> è¿­ä»£å™¨åè®®ï¼Œä¸ºå„ç§æ•°æ®ç»“æ„æä¾›äº†ä¸€ç§ç»Ÿä¸€æŒ‰ç…§æŸç§é¡ºåºè¿›è¡Œè®¿é—®çš„æœºåˆ¶ã€‚é€šå¸¸éƒ¨ç½²åœ¨ä¸€ä¸ªå¯è¿­ä»£æ•°æ®ç»“æ„å†…éƒ¨æˆ–å…¶åŸå‹ä¸Šã€‚ä¸€ä¸ªå¯¹è±¡è¦èƒ½å¤Ÿæˆä¸ºè¿­ä»£å™¨ï¼Œå®ƒå¿…é¡»æœ‰ä¸€ä¸ª <code>next()</code> æ–¹æ³•ï¼Œæ¯æ¬¡æ‰§è¡Œ <code>next()</code> æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†ä¸€ä¸ª <code>done</code> å±æ€§ï¼ˆæ˜¯ä¸ªå¸ƒå°”å€¼ï¼Œ<code>true</code> è¡¨ç¤ºå¯ä»¥ç»§ç»­ä¸‹æ¬¡è¿­ä»£ï¼‰å’Œä¸€ä¸ª <code>value</code> å±æ€§ï¼ˆæ¯æ¬¡è¿­ä»£çš„å€¼ï¼‰ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨</span>
<span class="token keyword">let</span> <span class="token function-variable function">makeIterator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> index <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token punctuation">{</span>
                value<span class="token operator">:</span> arr<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                done<span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span> done<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li> <li><p><code>iterable</code> å¯è¿­ä»£æ•°æ®ç»“æ„ï¼šå†…éƒ¨æˆ–è€…åŸå‹ä¸Šå¿…é¡»æœ‰ä¸€ä¸ª <code>Symbol.iterator</code> å±æ€§ï¼ˆå¦‚æœæ˜¯å¼‚æ­¥çš„åˆ™æ˜¯ <code>Symbol.asyncIterator</code>ï¼‰ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰§è¡Œåä¼šç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            index<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token punctuation">{</span>value<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token operator">++</span><span class="token punctuation">,</span> done<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token punctuation">{</span>done<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token keyword">of</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment">// 0 1 2</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>å†…ç½®çš„ä¸€äº›å¯è¿­ä»£æ•°æ®ç»“æ„æœ‰ï¼š<code>String</code>ã€<code>Array</code>ã€<code>TypedArray</code>ã€<code>Map</code> å’Œ <code>Set</code>ã€<code>arguments</code>ã€<code>NodeList</code>ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> si <span class="token operator">=</span> <span class="token string">'hi'</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
si         <span class="token comment">// StringIterator</span>
si<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// {value: 'h', done: false}</span>
si<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// {value: 'i', done: false}</span>
si<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// {value: undefined, done: true}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p><code>for...of</code>ï¼šç”¨äºéå†å¯è¿­ä»£æ•°æ®ç»“æ„ï¼š</p> <ul><li>éå†å­—ç¬¦ä¸²ï¼š<code>for...in</code> è·å–ç´¢å¼•ï¼Œ<code>for...of</code> è·å–å€¼ï¼›</li> <li>éå†æ•°ç»„ï¼š<code>for...in</code> è·å–ç´¢å¼•ï¼Œ<code>for...of</code> è·å–å€¼ï¼›</li> <li>éå†å¯¹è±¡ï¼š<code>for...in</code> è·å–é”®ï¼Œ<code>for...of</code> éœ€è‡ªè¡Œéƒ¨ç½² <code>[Symbol.iterator]</code> æ¥å£ï¼›</li> <li>éå† <code>Set</code>ï¼š<code>for...of</code> è·å–å€¼ï¼Œ <code>for (const v of set)</code>ï¼›</li> <li>éå† <code>Map</code>ï¼š<code>for...of</code> è·å–é”®å€¼å¯¹ï¼Œ<code>for (const [k, v] of map)</code>ï¼›</li> <li>éå†ç±»æ•°ç»„ï¼šåŒ…å« <code>length</code> çš„å¯¹è±¡ã€<code>arguments</code> å¯¹è±¡ã€<code>NodeList</code>å¯¹è±¡(æ—  <code>Iterator</code> æ¥å£çš„ç±»æ•°ç»„å¯ç”¨ <code>Array.from()</code> è½¬æ¢)ï¼›</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è¿­ä»£å­—ç¬¦ä¸²</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token keyword">of</span> <span class="token string">'abc'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment">// 'a' 'b' 'c'</span>
<span class="token punctuation">}</span>
  
<span class="token comment">// è¿­ä»£æ•°ç»„</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment">//  'a' 'b' 'c'</span>
<span class="token punctuation">}</span>
  
<span class="token comment">// éå† Set</span>
<span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token keyword">of</span> set<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment">// 'a' 'b' 'c'</span>
<span class="token punctuation">}</span>
  
<span class="token comment">// éå† Map</span>
<span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'zhangsan'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">': '</span> <span class="token operator">+</span> value<span class="token punctuation">)</span>  <span class="token comment">// 'name: zhangsan' 'age: 12'  </span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li> <li><p><code>for...of</code> å’Œ <code>for...in</code> å¯¹æ¯”</p> <p>å…±åŒç‚¹ï¼šèƒ½å¤Ÿé€šè¿‡ <code>break</code>ã€<code>continue</code> å’Œ <code>return</code> è·³å‡ºå¾ªç¯ï¼› ä¸åŒç‚¹ï¼š - <code>for...in</code> çš„ç‰¹ç‚¹ï¼šåªèƒ½éå†é”®ï¼Œä¼šéå†åŸå‹ä¸Šå±æ€§ï¼Œéå†æ— é¡ºåºï¼Œé€‚åˆäºå¯¹è±¡çš„éå†ï¼› - <code>for...of</code> çš„ç‰¹ç‚¹ï¼šèƒ½å¤Ÿéå†å€¼ï¼ˆæŸäº›æ•°æ®ç»“æ„èƒ½éå†é”®å’Œå€¼ï¼Œæ¯”å¦‚ <code>Map</code>ï¼‰ï¼Œä¸ä¼šéå†åŸå‹ä¸Šçš„é”®å€¼ï¼Œéå†é¡ºåºä¸ºæ•°æ®çš„æ·»åŠ é¡ºåºï¼Œé€‚ç”¨äºéå†å¯è¿­ä»£æ•°æ®ç»“æ„ï¼›</p></li></ul> <h2 id="promise"><a href="#promise" class="header-anchor">#</a> Promise</h2> <p><code>Promise</code> æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå®ƒæœ‰ä¸‰ç§çŠ¶æ€ï¼š<code>pending</code>ï¼ˆè¿›è¡Œä¸­ï¼‰ã€<code>fulfilled</code>ï¼ˆå·²æˆåŠŸï¼‰å’Œ<code>rejected</code>ï¼ˆå·²å¤±è´¥ï¼‰ã€‚</p> <p>å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„ <code>Promise</code> å¯¹è±¡æ„é€ å™¨æ¥åˆ›å»ºä¸€ä¸ª <code>Promiseï¼š</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ä¼ é€’ç»™ <code>new Promise</code> çš„æ˜¯ <code>executor</code> æ‰§è¡Œå™¨ã€‚å½“ <code>Promise</code> è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œ<code>executor</code> ä¼šç«‹å³åŒæ­¥æ‰§è¡Œã€‚<code>executor</code> å‡½æ•°é‡Œé€šå¸¸åšäº† 2 ä»¶äº‹æƒ…ï¼šåˆå§‹åŒ–ä¸€ä¸ªå¼‚æ­¥è¡Œä¸ºå’Œæ§åˆ¶çŠ¶æ€çš„æœ€ç»ˆè½¬æ¢ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œ<code>setTimeout</code> å‡½æ•°ç”¨æ¥æè¿°ä¸€ä¸ªå¼‚æ­¥è¡Œä¸ºï¼Œè€Œ <code>resolve</code> ç”¨æ¥æ”¹å˜çŠ¶æ€ã€‚ <code>executor</code> å‡½æ•°åŒ…å« 2 ä¸ªå‚æ•°ï¼Œä»–ä»¬éƒ½æ˜¯å›è°ƒå‡½æ•°ï¼Œç”¨äºæ§åˆ¶ <code>Promise</code> çš„çŠ¶æ€è½¬æ¢ï¼š</p> <ul><li><code>resolve</code>ï¼šç”¨æ¥å°†çŠ¶æ€ <code>pending</code> è½¬æ¢æˆ <code>fulfilled</code></li> <li><code>reject</code>ï¼šç”¨æ¥å°†çŠ¶æ€ <code>pending</code> è½¬æ¢æˆ <code>rejected</code></li></ul> <p>ä¸€ä¸ª Promise çš„çŠ¶æ€ä¸€æ—¦è¢«è½¬æ¢è¿‡ï¼Œåˆ™æ— æ³•å†å˜æ›´ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'ç¬¬ä¸€æ¬¡ resolve'</span><span class="token punctuation">)</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'ç¬¬äºŒæ¬¡ resolve'</span><span class="token punctuation">)</span>  <span class="token comment">// å°†è¢«å¿½ç•¥</span>
        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'ç¬¬ä¸€æ¬¡ reject'</span><span class="token punctuation">)</span>  <span class="token comment">// å°†è¢«å¿½ç•¥</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span>  <span class="token comment">// Promise {&lt;fulfilled&gt;: &quot;ç¬¬ä¸€æ¬¡ resolve&quot;}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="promiseå®ä¾‹æ–¹æ³•"><a href="#promiseå®ä¾‹æ–¹æ³•" class="header-anchor">#</a> Promiseå®ä¾‹æ–¹æ³•</h3> <p><strong>Promise.prototype.then()</strong></p> <p><code>Promise.prototype.then()</code> å°†ç”¨äºä¸º <code>Promise</code> å®ä¾‹æ·»åŠ å¤„ç†ç¨‹åºçš„å‡½æ•°ã€‚å®ƒæ¥å— 2 ä¸ªå¯é€‰çš„å‚æ•°ï¼š</p> <ul><li><code>onResolved</code>ï¼šçŠ¶æ€ç”± <code>pending</code> è½¬æ¢æˆ <code>fulfilled</code> æ—¶æ‰§è¡Œï¼›</li> <li><code>onRejected</code>ï¼šçŠ¶æ€ç”± <code>pending</code> è½¬æ¢æˆ <code>rejected</code> æ—¶æ‰§è¡Œã€‚</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">onResolved</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'resolved'</span> <span class="token operator">+</span> res<span class="token punctuation">)</span>  <span class="token comment">// resolved3</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">onRejected</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'rejected'</span> <span class="token operator">+</span> err<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>onResolved<span class="token punctuation">,</span> onRejected<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>Promise.prototype.catch()</strong></p> <p><code>Promise.prototype.catch()</code> ç”¨äºç»™ <code>Promise</code> å¯¹è±¡æ·»åŠ æ‹’ç»å¤„ç†ç¨‹åºã€‚åªæ¥å—ä¸€ä¸ªå‚æ•°ï¼š<code>onRejected</code> å‡½æ•°</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">onRejected</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>onRejected<span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> onRejected<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>Promise.prototype.finally()</strong></p> <p><code>Promise.prototype.finally()</code> ç”¨äºç»™ Promise å¯¹è±¡æ·»åŠ  <code>onFinally</code> å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¸»è¦æ˜¯åšä¸€äº›æ¸…ç†çš„å·¥ä½œï¼Œåªæœ‰çŠ¶æ€å˜åŒ–çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œè¯¥ <code>onFinally</code> å‡½æ•°ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">onFinally</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">888</span><span class="token punctuation">)</span>  <span class="token comment">// å¹¶ä¸ä¼šæ‰§è¡Œ  </span>
<span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span>onFinally<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="promise-api"><a href="#promise-api" class="header-anchor">#</a> Promise API</h3> <p><strong>Promise.resolve()</strong></p> <p>å¹¶éæ‰€æœ‰çš„ <code>Promise</code> çš„åˆå§‹çŠ¶æ€éƒ½æ˜¯ <code>pending</code>ï¼Œå¯ä»¥é€šè¿‡ <code>Promise.resolve(value)</code> æ¥åˆå§‹åŒ–ä¸€ä¸ªçŠ¶æ€ä¸º <code>fulfilled</code>ï¼Œå€¼ä¸º <code>value</code> çš„ <code>Promise</code> å®ä¾‹ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>  <span class="token comment">// Promise {&lt;fulfilled&gt;: 3}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è¿™ä¸ªæ“ä½œå’Œä¸‹é¢è¿™ç§åˆ›å»ºä¸€ä¸ª <code>fulfilled</code> çš„ <code>Promise</code> åœ¨æ•ˆæœä¸Šæ˜¯ä¸€æ ·çš„ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>  <span class="token comment">// Promise {&lt;fulfilled&gt;: 3}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>ä½¿ç”¨è¿™ä¸ªé™æ€æ–¹æ³•ï¼Œç†è®ºä¸Šå¯ä»¥æŠŠä»»ä½•ä¸€ä¸ªå€¼è½¬æ¢æˆ <code>Promise</code>ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// Promise {&lt;fulfilled&gt;: undefined}</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// Promise {&lt;fulfilled&gt;: 3} å¤šä½™çš„å‚æ•°å°†è¢«å¿½ç•¥</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// Promise {&lt;fulfilled&gt;: Error: error}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>è¿™ä¸ªè¢«è½¬æ¢çš„å€¼ç”šè‡³å¯ä»¥æ˜¯ä¸€ä¸ª <code>Promise</code> å¯¹è±¡ï¼Œå¦‚æœæ˜¯è¿™æ ·ï¼Œ<code>Promise.resolve</code> ä¼šå°†å…¶åŸæ ·è¾“å‡ºï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> p <span class="token operator">===</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Promise.reject()</strong></p> <p>å’Œ <code>Promise.resolve()</code> ç±»ä¼¼ï¼Œ<code>Promise.reject()</code> ä¼šå®ä¾‹åŒ–ä¸€ä¸ª <code>rejected</code> çŠ¶æ€çš„ <code>Promise</code>ï¼Œä¸”ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè¯¥é”™è¯¯åªèƒ½é€šè¿‡æ‹’ç»å¤„ç†ç¨‹åºæ•è·ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Promise
    <span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>  <span class="token comment">// 3</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å¯¹äºåˆå§‹åŒ–ä¸€ä¸ª <code>rejected</code> çŠ¶æ€çš„å®ä¾‹ï¼Œä»¥ä¸‹ä¸¤ç§å†™æ³•éƒ½å¯ä»¥è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> p1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>ä¸ <code>Promise.resolve()</code> ä¸åŒçš„æ˜¯ï¼Œå¦‚æœç»™ <code>Promise.reject()</code> ä¼ é€’ä¸€ä¸ª <code>Promise</code> å¯¹è±¡ï¼Œåˆ™è¿™ä¸ªå¯¹è±¡ä¼šæˆä¸ºæ–° <code>Promise</code> çš„å€¼ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> p <span class="token operator">===</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Promise.all()</strong></p> <p><code>Promise.all(iterable)</code> ç”¨æ¥å°†å¤šä¸ª <code>Promise</code> å®ä¾‹åˆæˆä¸€ä¸ªæ–°å®ä¾‹ã€‚å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œé€šå¸¸æ˜¯æ•°ç»„ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å¯è¿­ä»£å¯¹è±¡é‡Œçš„æ‰€æœ‰å…ƒç´ éƒ½ä¼šé€šè¿‡ <code>Promise.resolve()</code> è½¬æˆ <code>Promise</code>ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>æ‰€æœ‰ <code>Promise</code> éƒ½ <code>resolve</code> åï¼Œ<code>Promise.all()</code> æ‰ä¼šç”Ÿæˆä¸€ä¸ª <code>fulfilled</code> çš„æ–°å®ä¾‹ã€‚ä¸”æ–°å®ä¾‹çš„å†…éƒ¨å€¼æ˜¯ç”±æ‰€æœ‰ <code>Promise</code> è§£å†³åçš„å€¼ç»„æˆçš„æ•°ç»„ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> p1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token number">6</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> p2 <span class="token operator">=</span> p1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span>
<span class="token comment">// [&quot;3&quot;, undefined, 6]</span>
<span class="token comment">// Promise {&lt;fulfilled&gt;: Array(3)}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>æ‰€æœ‰ <code>Promise</code> ä¸­ï¼Œåªè¦å‡ºç°ä¸€ä¸ª <code>pending</code> çŠ¶æ€çš„å®ä¾‹ï¼Œé‚£ä¹ˆåˆæˆçš„æ–°å®ä¾‹ä¹Ÿæ˜¯ <code>pending</code> çŠ¶æ€çš„ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> p1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">3</span><span class="token punctuation">,</span>
    Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span>
<span class="token comment">// Promise {&lt;pending&gt;}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>æ‰€æœ‰ <code>Promise</code> ä¸­ï¼Œåªè¦å‡ºç°ä¸€ä¸ª <code>rejected</code> çŠ¶æ€çš„å®ä¾‹ï¼Œé‚£ä¹ˆåˆæˆçš„æ–°å®ä¾‹ä¹Ÿæ˜¯ <code>rejected</code> çŠ¶æ€çš„ï¼Œä¸”æ–°å®ä¾‹çš„å†…éƒ¨å€¼æ˜¯ç¬¬ä¸€ä¸ªæ‹’ç» <code>Promise</code> çš„å†…éƒ¨å€¼ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> p1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">3</span><span class="token punctuation">,</span>
    Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> p2 <span class="token operator">=</span> p1<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span>
<span class="token comment">// 6</span>
<span class="token comment">// Promise {&lt;rejected&gt;: 6}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>Promise.race()</strong></p> <p><code>Promise.race(iterable)</code> ä¼šè¿”å›ä¸€ä¸ªç”±æ‰€æœ‰å¯è¿­ä»£å®ä¾‹ä¸­ç¬¬ä¸€ä¸ª <code>fulfilled</code> æˆ– <code>rejected</code> çš„å®ä¾‹åŒ…è£…åçš„æ–°å®ä¾‹ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> p1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">3</span><span class="token punctuation">,</span>
    Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> p2 <span class="token operator">=</span> p1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span>
<span class="token comment">// 9</span>
<span class="token comment">// 3</span>
<span class="token comment">// Promise {&lt;fulfilled&gt;: 3}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>Promise.allSettled()</strong></p> <p><code>Promise.allSettled(iterable)</code> å½“æ‰€æœ‰çš„å®ä¾‹éƒ½å·²ç» <code>settled</code>ï¼Œå³çŠ¶æ€å˜åŒ–è¿‡äº†ï¼Œé‚£ä¹ˆå°†è¿”å›ä¸€ä¸ªæ–°å®ä¾‹ï¼Œè¯¥æ–°å®ä¾‹çš„å†…éƒ¨å€¼æ˜¯ç”±æ‰€æœ‰å®ä¾‹çš„å€¼å’ŒçŠ¶æ€ç»„åˆæˆçš„æ•°ç»„ï¼Œæ•°ç»„çš„æ¯é¡¹æ˜¯ç”±æ¯ä¸ªå®ä¾‹çš„çŠ¶æ€å’Œå†…éƒ¨å€¼ç»„æˆçš„å¯¹è±¡ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">allSettled</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> p2 <span class="token operator">=</span> p1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// [</span>
<span class="token comment">//      {status: &quot;fulfilled&quot;, value: undefined}, </span>
<span class="token comment">//      {status: &quot;rejected&quot;, reason: 6}, </span>
<span class="token comment">//      {status: &quot;fulfilled&quot;, value: 3}</span>
<span class="token comment">// ]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>åªè¦æ‰€æœ‰å®ä¾‹ä¸­åŒ…å«ä¸€ä¸ª <code>pending</code> çŠ¶æ€çš„å®ä¾‹ï¼Œé‚£ä¹ˆ <code>Promise.allSettled()</code> çš„ç»“æœä¸ºè¿”å›ä¸€ä¸ªè¿™æ · <code>Promise {&lt;pending&gt;}</code> çš„å®ä¾‹ã€‚</p> <blockquote><p>Promise.allSettled() æ˜¯ ES2020 ä¸­æ–°å¢çš„æ–¹æ³•ï¼Œæ‰€ä»¥æœ‰ä¸€äº›æµè§ˆå™¨å¯èƒ½è¿˜æš‚æ—¶ä¸æ”¯æŒã€‚</p></blockquote> <p>å¯¹äºä¸æ”¯æŒçš„æµè§ˆå™¨ï¼Œå¯ä»¥å†™ <code>polyfill</code>ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>Promise<span class="token punctuation">.</span>allSettled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Promise<span class="token punctuation">.</span><span class="token function-variable function">allSettled</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">promises</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>promises<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
                status<span class="token operator">:</span> <span class="token string">'fulfilled'</span><span class="token punctuation">,</span>
                value
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token parameter">reason</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
                status<span class="token operator">:</span> <span class="token string">'rejected'</span><span class="token punctuation">,</span>
                reason
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="generator"><a href="#generator" class="header-anchor">#</a> Generator</h2> <ul><li><p><code>function*</code> ä¼šå®šä¹‰ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼Œè°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯ä¼šè¿”å›ä¸€ä¸ª <code>Generator</code> å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯ç¬¦åˆå¯è¿­ä»£åè®®å’Œè¿­ä»£å™¨åè®®çš„ï¼Œæ¢å¥è¯è¯´è¿™ä¸ª <code>Generator</code> æ˜¯å¯ä»¥è¢«è¿­ä»£çš„ã€‚</p></li> <li><p>ç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨é€šè¿‡ <code>yield</code> æ¥æ§åˆ¶æš‚åœï¼Œè€Œ <code>next()</code> å°†æŠŠå®ƒæ¢å¤æ‰§è¡Œï¼Œå®ƒçš„è¿è¡Œé€»è¾‘æ˜¯å¦‚ä¸‹è¿™æ ·çš„ï¼š</p> <ul><li>é‡åˆ° <code>yield</code> è¡¨è¾¾å¼ï¼Œå°±æš‚åœæ‰§è¡Œåé¢çš„æ“ä½œï¼Œå¹¶å°†ç´§è·Ÿåœ¨ <code>yield</code> åé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ä½œä¸ºè¿”å›çš„å¯¹è±¡çš„ <code>value</code> å±æ€§å€¼ï¼›</li> <li>ä¸‹ä¸€æ¬¡è°ƒç”¨ <code>next</code> æ–¹æ³•æ—¶ï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ª <code>yield</code> è¡¨è¾¾å¼ï¼›</li> <li>å¦‚æœæ²¡æœ‰å†é‡åˆ°æ–°çš„ <code>yield</code> è¡¨è¾¾å¼ï¼Œå°±ä¸€ç›´è¿è¡Œåˆ°å‡½æ•°ç»“æŸï¼Œç›´åˆ° <code>return</code> è¯­å¥ä¸ºæ­¢ï¼Œå¹¶å°† <code>return</code> è¯­å¥åé¢çš„è¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„ <code>value</code> å±æ€§å€¼ï¼›</li> <li>å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰ <code>return</code> è¯­å¥ï¼Œåˆ™è¿”å›çš„å¯¹è±¡çš„ <code>value</code> å±æ€§å€¼ä¸º <code>undefined</code>ï¼›</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token string">'hello'</span>
    <span class="token keyword">yield</span> <span class="token string">'world'</span>
    <span class="token keyword">return</span> <span class="token string">'end'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// {value: 'hello', done: false}</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// {value: 'world', done: false}</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// {value: 'end', done: true}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>åœ¨ç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨å¯ä»¥ä½¿ç”¨ <code>yield*</code> è¡¨è¾¾å¼å§”æ‰˜ç»™å¦ä¸€ä¸ª <code>Generator</code> æˆ–å¯è¿­ä»£å¯¹è±¡ï¼Œæ¯”å¦‚æ•°ç»„ã€å­—ç¬¦ä¸²ç­‰ï¼›<code>yield*</code> è¡¨è¾¾å¼æœ¬èº«çš„å€¼æ˜¯å½“è¿­ä»£å™¨å…³é—­æ—¶è¿”å›çš„å€¼ï¼ˆå³ <code>done</code> ä¸º <code>true</code> æ—¶ï¼‰ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> <span class="token string">'foo'</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ul> <p><strong>å®ä¾‹æ–¹æ³•</strong>ï¼š</p> <ul><li><p><code>Generator.prototype.next()</code>ï¼šè¿”å›ä¸€ä¸ªåŒ…å«å±æ€§ <code>done</code> å’Œ <code>value</code> çš„å¯¹è±¡ã€‚è¯¥æ–¹æ³•ä¹Ÿå¯ä»¥é€šè¿‡æ¥å—ä¸€ä¸ªå‚æ•°ç”¨ä»¥å‘ç”Ÿæˆå™¨ä¼ å€¼ã€‚å¦‚æœä¼ å…¥äº†å‚æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°ä¼šä¼ ç»™ä¸Šä¸€æ¡æ‰§è¡Œçš„ <code>yield</code> è¯­å¥å·¦è¾¹çš„å˜é‡ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token number">12</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">yield</span> a
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// {value: 12, done: false}</span>
<span class="token comment">// 'b'</span>
<span class="token comment">// {value: 'b', done: false}</span>
<span class="token comment">// 'c'</span>
<span class="token comment">// {value: undefined, done: true}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li> <li><p><code>Generator.prototype.throw()</code>ï¼šç”¨æ¥å‘ç”Ÿæˆå™¨æŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚æœå†…éƒ¨æ•è·äº†åˆ™ä¼šæ¢å¤ç”Ÿæˆå™¨çš„æ‰§è¡Œï¼ˆå³æ‰§è¡Œä¸‹ä¸€æ¡ <code>yield</code> è¡¨è¾¾å¼ï¼‰ï¼Œå¹¶ä¸”è¿”å›å¸¦æœ‰ <code>done</code> åŠ <code>value</code> ä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">yield</span> <span class="token string">'a'</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    yiele <span class="token string">'b'</span>
    <span class="token keyword">yield</span> <span class="token string">'c'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span><span class="token string">'error a'</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// {value: &quot;a&quot;, done: false}</span>
<span class="token comment">// 'error a' </span>
<span class="token comment">// {value: &quot;b&quot;, done: false}</span>
<span class="token comment">// {value: &quot;c&quot;, done: false}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>å¦‚æœå†…éƒ¨æ²¡æœ‰æ•è·å¼‚å¸¸ï¼Œå°†ä¸­æ–­å†…éƒ¨ä»£ç çš„ç»§ç»­æ‰§è¡Œï¼ˆç±»ä¼¼ <code>throw</code> æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¦‚æœæ²¡æœ‰æ•è·ï¼Œåˆ™åé¢çš„ä»£ç å°†ä¸ä¼šæ‰§è¡Œï¼‰ï¼Œæ­¤æ—¶å¼‚å¸¸ä¼šæŠ›åˆ°å¤–éƒ¨ï¼Œå¯ä»¥è¢«å¤–éƒ¨çš„ <code>try...catch</code> å—æ•è·ï¼Œæ­¤æ—¶å¦‚æœå†æ‰§è¡Œä¸€æ¬¡ <code>next()</code>ï¼Œä¼šè¿”å›ä¸€ä¸ªå€¼ä¸º <code>done</code> å±æ€§ä¸º <code>true</code> çš„å¯¹è±¡ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token string">'a'</span>
    <span class="token keyword">yield</span> <span class="token string">'b'</span>
    <span class="token keyword">yield</span> <span class="token string">'c'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    g<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span><span class="token string">'error a'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// {value: &quot;a&quot;, done: false}</span>
<span class="token comment">// 'error a'</span>
<span class="token comment">// {value: undefined, done: true}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li> <li><p><code>Generator.prototype.return()</code>ï¼šè¿”å›ç»™å®šçš„å€¼å¹¶ç»“æŸç”Ÿæˆå™¨ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token number">1</span>
    <span class="token keyword">yield</span> <span class="token number">2</span>
    <span class="token keyword">yield</span> <span class="token number">3</span>
<span class="token punctuation">}</span>  
<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token comment">// { value: 1, done: false }</span>
g<span class="token punctuation">.</span><span class="token function">return</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>  <span class="token comment">// { value: &quot;foo&quot;, done: true }</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token comment">// { value: undefined, done: true }</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ul> <p><strong>åº”ç”¨</strong>ï¼š</p> <ul><li><p>å°†å¼‚æ­¥æ“ä½œåŒæ­¥åŒ–ï¼Œæ¯”å¦‚åŒæ—¶æœ‰å¤šä¸ªè¯·æ±‚ï¼Œå¤šä¸ªè¯·æ±‚ä¹‹é—´æ˜¯æœ‰é¡ºåºçš„ï¼Œåªèƒ½ç­‰å‰é¢çš„è¯·æ±‚å®Œæˆäº†æ‰è¯·æ±‚åé¢çš„ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> res1 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res1<span class="token punctuation">)</span>
    <span class="token keyword">let</span> res2 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res2<span class="token punctuation">)</span>
    <span class="token keyword">let</span> res3 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res3<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">// æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚</span>
        it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> it <span class="token operator">=</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 'a' 'b' 'c'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li> <li><p>ç»™å¯¹è±¡éƒ¨ç½² <code>Iterator</code> æ¥å£ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">iterEntries</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> key <span class="token operator">=</span> keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token keyword">yield</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token number">7</span> <span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> <span class="token function">iterEntries</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 'foo' 3</span>
<span class="token comment">// 'bar' 7</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ul> <h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="header-anchor">#</a> å‚è€ƒæ–‡ç« </h2> <ul><li><a href="https://es6.ruanyifeng.com/" target="_blank" rel="noopener noreferrer">ECMAScript6å…¥é—¨<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/6844903959283367950" target="_blank" rel="noopener noreferrer">1.5ä¸‡å­—æ¦‚æ‹¬ES6å…¨éƒ¨ç‰¹æ€§(å·²æ›´æ–°ES2020)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/6844903775329583112" target="_blank" rel="noopener noreferrer">è¿‘ä¸€ä¸‡å­—çš„ES6è¯­æ³•çŸ¥è¯†ç‚¹è¡¥å……<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/web/javascript/03-base-type.html" class="prev">
          åŸºæœ¬ç±»å‹
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.f96d0dc8.js" defer></script><script src="/assets/js/54.28bdfc99.js" defer></script>
  </body>
</html>
