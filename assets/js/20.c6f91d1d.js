(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{195:function(t,e,s){"use strict";s.r(e);var a=s(0),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("当我们访问 "),s("a",{attrs:{href:"https://www.taobao.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.taobao.com/"),s("OutboundLink")],1),t._v(" 淘宝的时候，首先需要把域名转化为对应的 IP 地址，DNS 本身的解析是一个非常耗时的过程，它首次会经过浏览器，计算机， host是 中查找是否有缓存，如果有直接拿这个 IP 地址发起请求，如果没有会通过网络进行 DNS 查询。那么如何减少解析时间呢，我们可以使用DNS Prefetch(DNS 预解析)。")]),t._v(" "),s("p",[t._v("DNS Prefetch 通过提前解析用到的一些常见域名，大大减少了实际访问时所花费的时间")]),t._v(" "),s("p",[t._v("那 DNS Prefetch 是如何工作的呢？其实，浏览器会在空闲时间提前将这些域名转化为对应的 IP 地址，这里为了防止 DNS Prefetch 阻塞页面渲染影响用户体验，Chrome 浏览器的引擎并没有使用它的网络堆栈去进行预解析，而是单独开了8个完全异步的 Worker 线程专门负责 DNS Prefetch，所以 DNS Prefetch 不会影响首屏加载。")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("浏览器引擎在解析 HTML 页面的时候，会自动获取当前页面所有的 a 标签 herf 属性当中的域名，然后进行 DNS Prefetch。这里需要注意的是如果页面是 HTTPS ，那么浏览器为了确保安全是不会开启自动解析的，这个时候就需要在页面头部添加如下的meta标签：")]),t._v(" "),t._m(4),t._m(5),t._v(" "),t._m(6),t._v(" "),s("p",[t._v("直接添加如下link标签即可")]),t._v(" "),t._m(7),s("p",[t._v("Tips: DNS Prefetch 解析后的域名对应关系会缓存到本地，一般本地缓存的数量为50~200个")]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),s("p",[t._v("link 标签 preload, prefetch 属性调整资源加载优先级，可以优化网站性能")]),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),s("p",[t._v("打包时提前渲染页面，没有服务端参与")]),t._v(" "),t._m(14),t._v(" "),s("p",[t._v("使用 GZip 压缩传输可以优化网络传输")]),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),s("p",[t._v("页面从定向会很影响页面的性能，所以尽量避免")]),t._v(" "),t._m(18),t._v(" "),s("p",[t._v("将一些静态资源通过 CDN 的方式访问，不仅可以缩短访问时间，而且传输会经过压缩等优化")]),t._v(" "),t._m(19),t._v(" "),s("p",[t._v("service-worker 支持离线访问，利用缓存能加速重复的速度")]),t._v(" "),s("p",[t._v("使用注意：")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),s("p",[t._v("使用 HTTP2 可以优化我们的网络传输，它有以下优点")]),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),s("p",[t._v("使用 SSR 服务端渲染，前端只是做页面的展示，减少资源的下载和网络请求，达到了优化的效果")]),t._v(" "),t._m(24)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"网络优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网络优化"}},[this._v("#")]),this._v(" 网络优化")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"dns-优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dns-优化"}},[this._v("#")]),this._v(" DNS 优化")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"如何使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何使用"}},[this._v("#")]),this._v(" 如何使用")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("浏览器自动解析")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("http-equiv")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("x-dns-prefetch-control"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("以上就是手动开启浏览器自动解析 DNS，如果不想开启，将 "),e("code",[this._v("content")]),this._v(" 置为 "),e("code",[this._v("off")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("手动解析")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("dns-prefetch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("//www.taobao.com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"传输加载优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#传输加载优化"}},[this._v("#")]),this._v(" 传输加载优化")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"preload-和-prefetch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#preload-和-prefetch"}},[this._v("#")]),this._v(" preload 和 prefetch")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("strong",[this._v("preload")]),this._v(": 提前加载较晚出现，但对当前页面非常重要的资源")]),this._v(" "),e("li",[e("strong",[this._v("prefetch")]),this._v("：提前加载后继路由需要的资源，优先级低，浏览器空闲时间加载")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("介绍一下 "),e("code",[this._v("link")]),this._v(" 标签的属性和属性值")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("属性")]),t._v(" "),s("th",[t._v("属性值")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("href")]),t._v(" "),s("td",[t._v("链接地址  url")])]),t._v(" "),s("tr",[s("td",[t._v("ref")]),t._v(" "),s("td",[t._v("stylesheet、preload、prefetch")])]),t._v(" "),s("tr",[s("td",[t._v("as 加载资源类型")]),t._v(" "),s("td",[t._v("script、style、image、font、crossorigin")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"pre-rendering-预渲染"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pre-rendering-预渲染"}},[this._v("#")]),this._v(" pre-rendering 预渲染")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"gzip"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gzip"}},[this._v("#")]),this._v(" GZip")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"keep-alive"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#keep-alive"}},[this._v("#")]),this._v(" Keep-Alive")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("网络频繁的建立连接是很耗时的，需要经过 TCP, SSL 等过程，使用 "),e("code",[this._v("keep-alive")]),this._v(" 持久化方式，可以减少连接创建次数")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"避免重定向"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#避免重定向"}},[this._v("#")]),this._v(" 避免重定向")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"cdn"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cdn"}},[this._v("#")]),this._v(" CDN")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"service-worker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#service-worker"}},[this._v("#")]),this._v(" service-worker")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("延长了首屏时间，单页面总加载时间减少")]),this._v(" "),e("li",[this._v("兼容性")]),this._v(" "),e("li",[this._v("只能在 localhost 或 https 下使用")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"http2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http2"}},[this._v("#")]),this._v(" HTTP2")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("请求响应多路复用。同一时刻发起多个请求")]),this._v(" "),e("li",[this._v("二进制传输")]),this._v(" "),e("li",[this._v("压缩请求头")]),this._v(" "),e("li",[this._v("服务器推送")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"ssr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssr"}},[this._v("#")]),this._v(" SSR")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"ajax-缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ajax-缓存"}},[this._v("#")]),this._v(" ajax 缓存")])}],!1,null,null,null);e.default=r.exports}}]);